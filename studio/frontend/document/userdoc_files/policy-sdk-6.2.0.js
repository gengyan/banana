var __builtin_policy_sdk__;!function(){"use strict";var t,e={5978:function(t,e,n){n.d(e,{H2:function(){return a},su:function(){return i},j_:function(){return m},Ru:function(){return g},a$:function(){return U},wh:function(){return R},UM:function(){return x},OE:function(){return b},fb:function(){return o},_v:function(){return F},FH:function(){return y},oU:function(){return M},n5:function(){return N},rD:function(){return D}});var r,o,i,a,u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};!function(t){t.VA="us",t.CN="cn",t.JP="jp",t.SG="sg",t.MY="my"}(o||(o={})),function(t){t.BOE="boe",t.PRE="pre",t.ONLINE=""}(i||(i={})),function(t){t[t.FEISHU=0]="FEISHU",t[t.LARK=1]="LARK",t[t.ANONYMOUS=2]="ANONYMOUS"}(a||(a={}));var l,s,f,p=((r={})[a.FEISHU]=["feishu","larkoffice"],r[a.LARK]=["larksuite"],r),d={brand:a.LARK,env:i.ONLINE,unit:o.SG},h=function(t){var e,n,r=i.ONLINE;try{for(var o=u(Object.values(i)),a=o.next();!a.done;a=o.next()){var c=a.value;if(c!==i.ONLINE)if(new RegExp("".concat(c,"$")).test(t)){r=c;break}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},v=function(t,e){var n,r,i=e===a.FEISHU?o.CN:o.VA,c=e===a.FEISHU?[o.JP,o.SG,o.VA,o.MY]:[o.JP,o.SG,o.MY];try{for(var l=u(c),s=l.next();!s.done;s=l.next()){var f=s.value;if(new RegExp("".concat(f,"$")).test(t)){i=f;break}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return i},y=function(t){var e,n,r=c(function(t){var e=t.split(".").filter(Boolean),n=e.length;return[e[n-3],e[n-2],e[n-1]]}(t),2),o=r[0],i=r[1],l=void 0===i?"":i,s=a.ANONYMOUS;try{for(var f=u(Object.keys(p)),y=f.next();!y.done;y=f.next()){var _=y.value;if(p[_].some((function(t){return l.includes(t)}))){s=Number(_);break}}}catch(t){e={error:t}}finally{try{y&&!y.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}return s===a.ANONYMOUS?d:{brand:s,env:h(l),unit:v(o,s)}};var _="";"undefined"!=typeof window&&(_=(null===(f=null===(s=null===(l=null===window||void 0===window?void 0:window.navigator)||void 0===l?void 0:l.userAgent)||void 0===s?void 0:s.toLowerCase)||void 0===f?void 0:f.call(s))||"");var b,g=-1!==_.indexOf("lark")||_.includes("openharmonyapp"),m=-1!==_.indexOf("docssdk"),w="undefined"!=typeof navigator?navigator.platform:"",E=function(){return!("undefined"==typeof document||!(null===document||void 0===document?void 0:document.documentElement)||!("ontouchstart"in document.documentElement))},C=function(t,e){return!("undefined"==typeof window||!window||!window.navigator)&&(/ipad/gi.test(t)||Boolean(navigator.maxTouchPoints)&&navigator.maxTouchPoints>2&&e.includes("MacIntel"))},O=function(t){return/Android/i.test(t)},S=function(t){return/iphone|ipod/i.test(t)},I=function(t){return t.includes("Mac")},P=function(t){return t.includes("Linux")},T=function(t){return t.includes("Win")},A=function(t){return/ArkWeb/i.test(t)},k=function(t){return/2in1/i.test(t)&&A(t)};!function(t){t[t.Unknown=0]="Unknown",t[t.PC=1]="PC",t[t.Web=2]="Web",t[t.Android=3]="Android",t[t.iOS=4]="iOS",t[t.OtherMobile=8]="OtherMobile"}(b||(b={}));var R,D=function(t,e){if(g){if(A(t)&&!k(t))return b.OtherMobile;if(O(t))return b.Android;if(S(t)||C(t,e))return b.iOS;if(I(e)||T(e)||P(e)||k(t))return b.PC}return b.Web}(_,w),N=function(t,e){if(g){if(A(t))return b.OtherMobile;if(O(t))return b.Android;if(S(t)||C(t,e))return b.iOS;if(I(e)||T(e)||P(e))return b.PC}return b.Web}(_,w);!function(t){t[t.Unknown=0]="Unknown",t[t.Windows=1]="Windows",t[t.Linux=2]="Linux",t[t.Mac=3]="Mac",t[t.Android=4]="Android",t[t.iOS=5]="iOS",t[t.OpenHarmony=6]="OpenHarmony"}(R||(R={}));var L,M=function(t,e){return A(t)?R.OpenHarmony:function(t,e){var n=E();return!(!function(t){return/iphone|mac/i.test(t)}(e)||!n)||(!(!S(t)&&!C(t,e))||!(!I(e)||!n))}(t,e)?R.iOS:function(t,e){var n=E();return!!O(t)||(!(!T(e)||!n)||!(!P(e)||!n))}(t,e)?R.Android:I(e)?R.Mac:T(e)?R.Windows:P(e)?R.Linux:R.Unknown}(_,w),x="pc",U="mobile",F=function(){return M===R.OpenHarmony?k(_)?x:U:[R.Windows,R.Mac,R.Linux].includes(M)?x:U};!function(t){t.Chrome="Chrome",t.FireFox="FireFox",t.UCBrowser="UCBrowser",t.UCBrowserHD="UCBrowserHD",t.Sougou="Sougou",t.Quark="Quark",t.QQBrowser="QQBrowser",t.QQBrowserHD="QQBrowserHD",t.Baidu="Baidu",t.Aoyou="Aoyou",t.QihooHD="360BrowserHD",t.Qihoo="360Browser",t.DuckDuck="DuckDuckGo Privacy Browser",t.Aloha="Aloha Browser - private & fast",t.Edge="Edge",t.Opera="Opera Touch web browser",t.Safari="Safari",t.Unknown="unknown"}(L||(L={}));L.Chrome,L.FireFox,L.UCBrowser,L.UCBrowserHD,L.Sougou,L.Quark,L.QQBrowser,L.QQBrowserHD,L.Baidu,L.Aoyou,L.QihooHD,L.Qihoo,L.DuckDuck,L.Aloha,L.Edge,L.Opera,L.Safari;var B=window.navigator.userAgent;/Version\/[\d.]+ Mobile\/\w+ Safari/.test(B),/Version\/[\d.]+ Safari/.test(B)&&-1===B.indexOf("Chrome")&&document},3031:function(t,e,n){e.X_=void 0;var r=n(7613);Object.defineProperty(e,"X_",{enumerable:!0,get:function(){return r.waitFor}})},7613:function(t,e){var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.waitFor=e.PollUntil=void 0;const r="Your executor is not a function. functions and promises are valid.",o="Failed to wait";class i{constructor({interval:t=100,timeout:e=1e3,stopOnFailure:n=!1,verbose:r=!1,backoffFactor:o=1,backoffMaxInterval:i,message:a=""}={}){this._interval=t,this._timeout=e,this._stopOnFailure=n,this._isWaiting=!1,this._isResolved=!1,this._verbose=r,this._userMessage=a,this.originalStacktraceError=new Error,this._Console=console,this._backoffFactor=o,this._backoffMaxInterval=i||e,this.start=+Date.now()}tryEvery(t){return this._interval=t,this}stopAfter(t){return this._timeout=t,this}execute(t){return this._applyPromiseHandlers(),function(t){if("function"!=typeof t)throw new Error(r)}(t),this._executeFn=function(t){return()=>n(this,void 0,void 0,(function*(){return yield t()}))}(t),this.start=Date.now(),this._isWaiting=!0,this._log("starting to execute"),this._runFunction(),this.promise}getPromise(){return this.promise}isResolved(){return this._isResolved}isWaiting(){return this._isWaiting}stopOnFailure(t){return this._stopOnFailure=t,this}_applyPromiseHandlers(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}_timeFromStart(){return Date.now()-this.start}_shouldStopTrying(){return this._timeFromStart()>this._timeout}_executeAgain(){this._log("executing again");const t=this._interval,e=t*this._backoffFactor;this._interval=e>this._backoffMaxInterval?this._backoffMaxInterval:e,setTimeout(this._runFunction.bind(this),t)}_failedToWait(){let t=`${o} after ${this._timeFromStart()}ms`;if(this._userMessage&&(t=`${t}: ${this._userMessage}`),this._lastError){this._lastError.message=`${t}\n${this._lastError.message}`;const e=this.originalStacktraceError.stack;e&&(this._lastError.stack+=e.substring(e.indexOf("\n")+1))}else this._lastError=this.originalStacktraceError,this._lastError.message=t;return this._log(this._lastError),this._lastError}_runFunction(){var t;if(this._shouldStopTrying())return this._isWaiting=!1,void(null===(t=this.reject)||void 0===t||t.call(this,this._failedToWait()));this._executeFn().then(t=>{var e;if(!1===t)return this._log("then execute again with result: "+t),void this._executeAgain();null===(e=this.resolve)||void 0===e||e.call(this,t),this._isWaiting=!1,this._isResolved=!0,this._log("then done waiting with result: "+t)}).catch(t=>{var e;return this._stopOnFailure?(this._log("stopped on failure with err: "+t),null===(e=this.reject)||void 0===e?void 0:e.call(this,t)):(this._lastError=t,this._log("catch with err: "+t),this._executeAgain())})}_log(t){this._verbose&&this._Console&&this._Console.log&&this._Console.log(t)}}e.PollUntil=i;e.waitFor=(t,e)=>new i(e).execute(t)},9972:function(t,e,n){n.d(e,{Bo:function(){return a},Ih:function(){return u},KZ:function(){return f},Ox:function(){return i},Rv:function(){return o},Z5:function(){return s},a0:function(){return l},y3:function(){return c}});var r={request:n(3198).Z,baseURL:""};function o(t){r._initialized||(r.request=(null==t?void 0:t.request)||r.request,r.baseURL=(null==t?void 0:t.baseURL)||"",r._initialized=!0)}function i(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/runtime_config/query"),o=t||{},i={version:o.version,terminalType:o.terminalType},a={"x-lgw-terminal-type":o["x-lgw-terminal-type"]};return r.request({url:n,method:"POST",data:i,headers:a},e)}function a(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/pointcut/query");return r.request({url:n,method:"POST"},e)}function u(t,e){var n=r.genBaseURL("/lark/scs/guardian/enforce"),o={params:(t||{}).params};return r.request({url:n,method:"POST",data:o},e)}function c(t,e){var n=r.genBaseURL("/lark/scs/guardian/pointcut/control_check"),o={params:(t||{}).params};return r.request({url:n,method:"POST",data:o},e)}function l(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/policy_type_tenants/query");return r.request({url:n,method:"POST"},e)}function s(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/evaluate_uk/report"),o={evaluateInfos:(t||{}).evaluateInfos};return r.request({url:n,method:"POST",data:o},e)}function f(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/evaluate_log/delete"),o={evaluateInfos:(t||{}).evaluateInfos};return r.request({url:n,method:"POST",data:o},e)}r.genBaseURL=function(t){return"function"==typeof r.baseURL?r.baseURL(t):r.baseURL+t}},4821:function(t,e,n){n.d(e,{R$:function(){return i},gY:function(){return o}});var r={request:n(3198).Z,baseURL:""};function o(t){r._initialized||(r.request=(null==t?void 0:t.request)||r.request,r.baseURL=(null==t?void 0:t.baseURL)||"",r._initialized=!0)}function i(t,e){var n=r.genBaseURL("/lark/security/terminal/intranet/service_info");return r.request({url:n,method:"GET"},e)}r.genBaseURL=function(t){return"function"==typeof r.baseURL?r.baseURL(t):r.baseURL+t}},3788:function(t,e,n){var r,o,i,a,u,c;n.d(e,{Jg:function(){return r},OW:function(){return i},Qm:function(){return o},Su:function(){return a},lS:function(){return c},py:function(){return u}}),function(t){t.Network="BLOCKED_BY_IP_RULE",t.NetworkStrict="BLOCKED_BY_IP_STRICT_POLICY",t.MFA="ACCESS_MFA",t.DeviceState="BLOCKED_BY_DEVICE_CREDIBILITY",t.DeviceOwn="BLOCKED_BY_DEVICE_OWNERSHIP",t.FilePolicy="FILE_BLOCK_COMMON",t.Permission="BLOCKED_BY_PERMISSION_PLUGIN",t.Default="DEFAULT",t.SignatureFailure="BLOCKED_BY_SIGNATURE_FAILURE",t.DLP_CONTENT_SENSITIVE="DLP_CONTENT_SENSITIVE",t.DLP_CONTENT_DETECTING="DLP_CONTENT_DETECTING",t.TT_BLOCK="TT_BLOCK",t.FALLBACK_COMMON="FALLBACK_COMMON",t.UNIVERSAL_FALLBACK_COMMON="UNIVERSAL_FALLBACK_COMMON",t.Intranet="BLOCKED_BY_TERMINAL_TOKEN",t.ACCESS_CONTROL_ACTION_COMMON="ACCESS_CONTROL_ACTION_COMMON"}(r||(r={})),function(t){t.Permit="PERMIT",t.Deny="DENY",t.Indeterminate="INDETERMINATE",t.NotApplicable="NOT_APPLICABLE"}(o||(o={})),function(t){t.CCMCopy="CCM_CONTENT_COPY",t.CCMPrint="CCM_PRINT",t.CCMExport="CCM_EXPORT",t.CCMShare="CCM_SHARE",t.CCMAttachmentDownload="CCM_ATTACHMENT_DOWNLOAD",t.CCMAttachmentUpload="CCM_ATTACHMENT_UPLOAD",t.CCMContentPreview="CCM_CONTENT_PREVIEW",t.CCMCreateCopy="CCM_CREATE_COPY",t.CCMPhysicalDelete="CCM_DELETE",t.CCMPFileUpload="CCM_FILE_UPLOAD",t.CCMPFilePreView="CCM_FILE_PREVIEW",t.CCMPFileDownload="CCM_FILE_DOWNLOAD",t.CCMPFileSave="CCM_FILE_SAVE",t.CCMPMoveRecycleBin="CCM_MOVE_RECYCLE_BIN",t.CCMOpen="CCM_OPEN",t.CCMAuth="CCM_AUTH",t.CCMOpenExternalAccess="CCM_OPEN_EXTERNAL_ACCESS",t.CCMOpenExternalAccessAsync="CCM_OPEN_EXTERNAL_ACCESS_ASYNC",t.CCMOpenLinkShareChange="CCM_LINK_SHARE_CHANGE",t.CCMOpenLinkShareChangeAsync="CCM_LINK_SHARE_CHANGE_ASYNC",t.CCMAddCollaborator="CCM_ADD_INTERNAL_COLLABORATOR",t.CCMAddCollaboratorAsync="CCM_ADD_INTERNAL_COLLABORATOR_ASYNC",t.CCMAddExternalCollaborator="CCM_ADD_EXTERNAL_COLLABORATOR",t.CCMAddExternalCollaboratorAsync="CCM_ADD_EXTERNAL_COLLABORATOR_ASYNC",t.IMTextSend="IM_MSG_SEND_TEXT_MSG",t.IMFileSend="IM_MSG_SEND_FILE_MSG",t.IMMSGPhysicalDelete="IM_MSG_PHYSICAL_DELETE",t.IMFileDownload="IM_MSG_FILE_DOWNLOAD",t.IMFileSave="IM_MSG_FILE_SAVE",t.IMFileUpload="IM_MSG_FILE_UPLOAD",t.IMFileShare="IM_MSG_FILE_SHARE",t.IMFilePreview="IM_MSG_FILE_PREVIEW",t.IMFileRead="IM_MSG_FILE_READ",t.IMFileCopy="IM_MSG_FILE_COPY",t.IMChatModifyName="IM_MSG_CHAT_MODIFY_NAME",t.IMChatModifyDesc="IM_MSG_CHAT_MODIFY_DESC",t.IMChatModifyProfile="IM_MSG_CHAT_MODIFY_PROFILE",t.IMChatAddTag="IM_MSG_CHAT_ADD_TAG",t.IMChatEditTag="IM_MSG_CHAT_EDIT_TAG",t.IMChatEditUserNickName="IM_MSG_EDIT_USER_NICK_NAME",t.IMMsgAsyncDetection="IM_MSG_ASYNC_DETECTION",t.VCMeetingMinutesPhysicalDelete="VC_MM_PHYSICAL_DELETE",t.MailPhysicalDelete="MAIL_PHYSICAL_DELETE",t.VcHardDelete="VC_MM_DELETE_FROM_RECYCLE_BIN",t.VcDelete="VC_MM_MOVE_RECYCLE_BIN",t.VcUpload="VC_MM_UPLOAD",t.VcCopy="VC_MM_CONTENT_COPY"}(i||(i={})),function(t){t.UNKNOWN="Unknown",t.CCM="CCM",t.IM="IM",t.MAIL="Mail",t.VC="VC",t.TODO="TODO",t.CALENDAR="Calendar",t.PASSPORT="Passport",t.IM_OTHERS="IM_Others",t.MINUTES="MeetingMinutes"}(a||(a={})),function(t){t.Doc="DOC",t.Docx="DOCX",t.Sheet="SHEET",t.Bitable="BITABLE",t.Mindnote="MINDNOTE",t.File="FILE",t.DASHBOARD="DASHBOARD",t.BITABLESHAREFORM="BITABLE_SHARE_FORM",t.CHART="CHART",t.SPACE_CATALOG="SPACE_CATALOG",t.WIKI_SPACE="WIKI_SPACE",t.PIVOTTABLE="PIVOT_TABLE",t.RECORD="RECORD",t.SYNC="SYNC",t.SLIDES="SLIDES",t.ImMsgFile="IM_MSG_FILE",t.MeetingMinutes="MeetingMinutes"}(u||(u={})),function(t){t.PAGE="page",t.DIALOG="dialog",t.TOAST="toast"}(c||(c={}))},6969:function(t,e,n){var r,o;n.d(e,{Ab:function(){return p},Bd:function(){return h},MA:function(){return o},Nt:function(){return l},TP:function(){return i},Y3:function(){return d},hf:function(){return a},hj:function(){return f},hx:function(){return c},oz:function(){return u},r0:function(){return v},u7:function(){return s}}),function(t){t.ccmExport="PointKey_CCM_EXPORT",t.ccmFileDownload="PointKey_CCM_FILE_DOWNLOAD",t.ccmFileUpload="PointKey_CCM_FILE_UPLOAD",t.ccmAttachmentDownload="PointKey_CCM_ATTACHMENT_DOWNLOAD",t.ccmPrint="PointKey_CCM_PRINT",t.ccmCopy="PointKey_CCM_CONTENT_COPY",t.ccmDuplicate="PointKey_CCM_CREATE_COPY",t.ccmPreview="PointKey_CCM_CONTENT_PREVIEW",t.ccmFilePreview="PointKey_CCM_FILE_PREVIEW",t.ccmDelete="PointKey_CCM_MOVE_RECYCLE_BIN",t.ccmOpenExternalAccess="PointKey_CCM_OPEN_EXTERNAL_ACCESS",t.ccmFileSave="PointKey_CCM_FILE_SAVE",t.calendarCopy="PointKey_CALENDAR_CONTENT_COPY",t.calendarPreview="PointKey_CALENDAR_FILE_PREVIEW",t.imDownload="PointKey_IM_MSG_FILE_DOWNLOAD",t.imUpload="PointKey_IM_MSG_FILE_UPLOAD",t.imCopy="PointKey_IM_MSG_FILE_COPY",t.imPreview="PointKey_IM_MSG_FILE_PREVIEW",t.imShare="PointKey_IM_MSG_FILE_READ",t.vcCopy="PointKey_VC_MM_CONTENT_COPY",t.vcPreview="PointKey_VC_MM_CONTENT_PREVIEW"}(o||(o={}));var i,a=new Set([o.imShare,o.imDownload]),u=[o.imDownload],c=[o.imDownload],l=[o.imDownload],s=3,f="security_login_restriction_ping_time_storage",p=5e3,d=9e5,h="scs_user_behavior_report",v=((r={})[o.ccmExport]=o.ccmExport,r[o.ccmFileDownload]=o.ccmFileDownload,r[o.ccmFileUpload]=o.ccmFileUpload,r[o.ccmAttachmentDownload]=o.ccmAttachmentDownload,r[o.ccmPrint]=o.ccmPrint,r[o.ccmCopy]=o.ccmCopy,r[o.ccmDuplicate]=o.ccmDuplicate,r[o.ccmPreview]=o.ccmPreview,r[o.ccmFilePreview]=o.ccmFilePreview,r[o.ccmDelete]=o.ccmDelete,r[o.ccmOpenExternalAccess]=o.ccmOpenExternalAccess,r[o.calendarCopy]=o.calendarCopy,r[o.calendarPreview]=o.calendarPreview,r[o.imDownload]=o.imDownload,r[o.imUpload]=o.imUpload,r[o.imCopy]=o.imCopy,r[o.imPreview]=o.imPreview,r[o.imShare]=o.imShare,r[o.vcCopy]=o.vcCopy,r.GET_SETTINGS_V3_RESULT="GET_SETTINGS_V3_RESULT",r.GET_SETTINGS_V3_API_CALL_FAILED="GET_SETTINGS_V3_API_CALL_FAILED",r.GET_SETTINGS_V3_API_CALL_FAILED_CERT_ERROR="GET_SETTINGS_V3_API_CALL_FAILED_CERT_ERROR",r.GET_SETTINGS_V3_RESULT_ERROR="GET_SETTINGS_V3_RESULT_ERROR",r.JUMP_TO_NO_ACCCESS_PAGE_WEB="JUMP_TO_NO_ACCCESS_PAGE_WEB",r.THROW_POLICY_CENTER_RESOUCE_DENAIL_EVENT="THROW_POLICY_CENTER_RESOUCE_DENAIL_EVENT",r);!function(t){t.COND_ACCESS_WEB="COND_ACCESS_WEB",t.FILE_PROTECT_WEB="FILE_PROTECT_WEB",t.FILE_PROTECT_DESKTOP="FILE_PROTECT_DESKTOP"}(i||(i={}))},3583:function(t,e,n){var r,o;n.d(e,{pW:function(){return r}}),function(t){t.UNKNOWN="",t.CCM="CCM",t.IM="IM",t.VC="VC",t.CALENDAR="CALENDAR"}(r||(r={})),function(t){t[t.P2P=1]="P2P",t[t.GROUP=2]="GROUP",t[t.TOPIC_GROUP=3]="TOPIC_GROUP"}(o||(o={}))},3545:function(t,e,n){n.d(e,{EE:function(){return i}});var r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},o=function(t){return"object"!=typeof t?t:Array.isArray(t)?t.map((function(t){return o(t)})):Object.keys(t).sort().reduce((function(e,n){return e[n]="object"==typeof t[n]?o(t[n]):t[n],e}),{})},i=function(t){t.taskId;return function(t){var e=o(t);return JSON.stringify(e)}(r(t,["taskId"]))}},6379:function(t,e,n){n.d(e,{g:function(){return i}});var r=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},o=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},i=new(function(){function t(t){this.cacheKey=t}return t.prototype.getCache=function(t){var e=null===localStorage||void 0===localStorage?void 0:localStorage.getItem("".concat(this.cacheKey,"-").concat(t));if(e)try{return JSON.parse(e)}catch(t){return null}return null},t.prototype.setCache=function(t,e){return null===localStorage||void 0===localStorage||localStorage.setItem("".concat(this.cacheKey,"-").concat(t),JSON.stringify(e)),e},t.prototype.getCacheAsync=function(t){var e=t.query,n=t.partition;return r(this,void 0,Promise,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return(t=this.getCache(n))?(this.updateCacheAsync({query:e,partition:n}),[2,t]):this.queryPromise?[2,this.queryPromise]:(this.queryPromise=e(),[4,this.queryPromise]);case 1:return r=o.sent(),this.queryPromise=null,r&&Object.keys(r).length>0&&this.setCache(n,r),[2,r]}}))}))},t.prototype.updateCacheAsync=function(t){var e=t.query,n=t.partition;return r(this,void 0,Promise,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return this.updatePromise?[2,this.updatePromise]:(this.updatePromise=e(),[4,this.updatePromise]);case 1:return(t=r.sent())&&Object.keys(t).length>0&&this.setCache(n,t),[2,t]}}))}))},t}())("policy-sdk-config")},4720:function(t,e,n){n.d(e,{_:function(){return c},f:function(){return f}});var r=n(5958),o=function(t){return Boolean(t)&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},c={PolicyWorker:"PolicyWorker",PAP:"PAP",Network:"Network"},l=function(t,e,n,r){return{target:t,args:e,startTime:n,funcName:r,type:"info",err:null,res:null}},s=function(t,e,n,r){return{target:t,args:e,startTime:n,funcName:r,res:null,type:"error"}};function f(t){var e=t.onLog,n=t.onCatch,c=t.onReturn,f=t.beforeEnterAsync;return function(t,p,d){var h=d.value;d.value=function(){for(var t=this,d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];var y=(new Date).getTime();e&&e(i(i({},l(this,d,y,p)),{message:"s ".concat(p)}));var _=function(n){if(e&&e(i(i({},l(t,[],y,p)),{res:n,message:"f ".concat(p)})),c)return c.apply(void 0,u([t,n],a(d),!1))},b=function(o){var c={error:null==o?void 0:o.message,stack:null==o?void 0:o.stack,cause:null==o?void 0:o.cause,type:"Error",funcName:p,args:d,isOnline:navigator.onLine};if((0,r.DO)(c),e&&e(i(i({},s(t,d,y,p)),{err:o.message,message:"exec ".concat(p," error")})),n)return n.apply(void 0,u([t,o],a(d),!1));throw Error(o)},g=function(){try{var e=h.apply(t,u([],a(d),!1));return o(e)?e.then((function(t){return _(t)||e})).catch((function(t){return b(t)})):_(e)||e}catch(t){return b(t)}};return f?f.apply(void 0,u([this],a(d),!1)).then((function(t){return t.exit?t.result:g()})).catch((function(t){return b(t)})):g()}}}},213:function(t,e,n){n.d(e,{p:function(){return a}});var r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},i=Symbol("instances");function a(t){return function(e){var n=e;n[i]={};var a=Symbol("instance"),u=function(){var e,u=[].slice.call(arguments),c=t?JSON.stringify(t.apply(void 0,o([],r(u),!1))):a;return n.prototype!==this.constructor.prototype?((e=n.constructor).call.apply(e,o([this],r(u),!1)),this):(n[i][c]||(n[i][c]=new(n.bind.apply(n,o([void 0],r(u),!1)))),n[i][c])};return Object.defineProperties(u,Object.getOwnPropertyDescriptors(n)),u}}},1854:function(t,e,n){n.d(e,{o:function(){return i},w:function(){return o}});var r=n(4353),o=function(t,e){return void 0===e&&(e={}),function(n,o,i){return{configurable:!0,enumerable:i.enumerable,get:function(){return Object.defineProperty(this,o,{configurable:!0,enumerable:i.enumerable,value:(0,r.Z)(i.value,t,e)}),this[o]}}}};function i(t,e){var n=0;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=Date.now();i-n>=e&&(t.apply(this,r),n=i)}}},2463:function(t,e,n){n.d(e,{u:function(){return f}});var r,o,i,a,u=n(213),c=n(2074),l=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s={all:a=a||new Map,on:function(t,e){var n=a.get(t);n?n.push(e):a.set(t,[e])},off:function(t,e){var n=a.get(t);n&&(e?n.splice(n.indexOf(e)>>>0,1):a.set(t,[]))},emit:function(t,e){var n=a.get(t);n&&n.slice().map((function(t){t(e)})),(n=a.get("*"))&&n.slice().map((function(n){n(t,e)}))}},f=new(function(){function t(){this.cache={}}return t.prototype.emit=function(t,e){if(!s.all.get(t))return(this.cache[t]||(this.cache[t]=[])).push(e),void(this.cache[t]=this.cache[t].slice(-50));s.emit(t,e)},t.prototype.on=function(t,e){var n=this;return this.cache[t]&&this.cache[t].map((function(t){return e.call(n,t)})),s.on(t,e),{dispose:function(){return n.off(t,e)}}},t.prototype.off=function(t,e){s.off(t,e)},t.prototype.has=function(t){return Boolean(s.all.get(t))},t=l([(0,u.p)()],t)}());"undefined"!=typeof window&&(null===(r=window.addEventListener)||void 0===r||r.call(window,"online",(function(){return f.emit(c.GE.NETWORK_ONLINE)}))),"undefined"!=typeof window&&(null===(o=window.addEventListener)||void 0===o||o.call(window,"offline",(function(){return f.emit(c.GE.NETWORK_OFFLINE)}))),"undefined"!=typeof document&&(null===(i=document.addEventListener)||void 0===i||i.call(document,"visibilitychange",(function(){"visible"===document.visibilityState&&f.emit(c.GE.BACK_TO_FRONT)})))},2010:function(t,e,n){n.d(e,{W:function(){return u},n:function(){return c}});var r="Symbol"in n.g&&"iterator"in Symbol;function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'.concat(t,'"'));return t}function i(t){return"string"!=typeof t&&(t=String(t)),t}function a(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}var u=function(){function t(e){this.map={},this.map={},e instanceof t||"undefined"!=typeof Headers&&e instanceof Headers?e.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(e)?e.forEach((function(t){this.append(t[0],t[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}return t.prototype.append=function(t,e){t=o(t),e=i(e);var n=this.map[t];this.map[t]=n?"".concat(n,", ").concat(e):e},t.prototype.delete=function(t){delete this.map[o(t)]},t.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},t.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},t.prototype.set=function(t,e){this.map[o(t)]=i(e)},t.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),a(t)},t.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),a(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),a(t)},t}();function c(t){var e=new u;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n,r=t.split(":"),o=null===(n=r.shift())||void 0===n?void 0:n.trim();if(o){var i=r.join(":").trim();try{e.append(o,i)}catch(t){}}})),e}},4622:function(t,e,n){n.d(e,{n:function(){return p}});var r,o=n(9741),i=n(6707),a=n(1964),u=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},c=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t.Success="Success",t.Error="Error",t.Timeout="Timeout",t.Abort="Abort"}(r||(r={}));var p=function(){function t(t){this.timer={},this.abortController={},this.requestTimeout=null==t?void 0:t.requestTimeout,this.responseTimeout=null==t?void 0:t.responseTimeout,(null==t?void 0:t.dependencies)&&(this.dependencies=t.dependencies)}return Object.defineProperty(t.prototype,"key",{get:function(){return this.constructor.key},enumerable:!1,configurable:!0}),t.prototype.doInterceptor=function(t,e,n){var i,a=this,u=(0,o.Z)(),c=!1,f=!1,p=n[0],d=function(t){c=!0,i(t)},h=function(){c||(p.lock(),null==d||d({success:f,reason:r.Abort}))};this.abortController[u]=h;var v=new Promise((function(t){i=t}));v.finally((function(){delete a.abortController[u]}));try{t.apply(void 0,s([],l(n),!1)).then((function(t){c||d({success:f=!0,result:t,reason:r.Success})})).catch((function(t){d({success:f,reason:r.Error,message:t.message})})),void 0!==e&&e>=0&&(this.timer[u]=setTimeout((function(){a.timer[u]=void 0,c||(p.lock(),d({success:f,reason:r.Timeout}))}),e))}catch(t){d({success:f,reason:r.Error,message:t.message})}return{abort:h,promise:v}},t.prototype.doRequestInterceptor=function(t){var e=new i.S(t);return this.doInterceptor(this.request,this.requestTimeout,[e])},t.prototype.doResponseInterceptor=function(t,e){var n=new a.J(t),r=new i.S(e);return r.lock(),this.doInterceptor(this.response,this.responseTimeout,[n,r])},t.prototype.request=function(t){return u(this,void 0,Promise,(function(){return c(this,(function(t){return[2,!0]}))}))},t.prototype.response=function(t,e){return u(this,void 0,Promise,(function(){return c(this,(function(t){return[2,!0]}))}))},t.prototype.dispose=function(){var t,e,n,r;try{for(var o=f(Object.keys(this.abortController)),i=o.next();!i.done;i=o.next()){var a=i.value;(0,this.abortController[a])()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}this.abortController={};try{for(var u=f(Object.keys(this.timer)),c=u.next();!c.done;c=u.next()){a=c.value;var l=this.timer[a];void 0!==l&&clearTimeout(l)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}this.timer={}},t.key="Interceptor",t}()},6707:function(t,e,n){n.d(e,{V:function(){return u},S:function(){return c}});var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=n(2010),a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},u=function(){function t(t){this.headers=new i.W(null==t?void 0:t.headers),this.originURL=null==t?void 0:t.url,this.originBody=null==t?void 0:t.body,this.originMethod=null==t?void 0:t.method}return t.fromFetch=function(e,n){var r=new Request(e,n),o=new Headers;(e instanceof Request&&e.headers&&e.headers.forEach((function(t,e){o.append(e,t)})),null==n?void 0:n.headers)&&new Headers(n.headers).forEach((function(t,e){o.append(e,t)}));return new t({headers:o,url:r.url,body:r.body,method:r.method})},t.fromXHR=function(e,n){return new t({headers:null==n?void 0:n.headers,method:null==n?void 0:n.method,url:null==n?void 0:n.url,body:null==n?void 0:n.body})},Object.defineProperty(t.prototype,"url",{get:function(){return this.originURL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){return this.originMethod},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteURL",{get:function(){if(this.originURL)return new URL(this.originURL,location.href).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this.originBody},enumerable:!1,configurable:!0}),t.prototype.applyOnFetch=function(t,e,n){var i=function(t,e){var n,i,a,u,c=new Headers,l=new Headers(null==e?void 0:e.headers);try{for(var s=r(l.entries()),f=s.next();!f.done;f=s.next()){var p=o(f.value,2),d=p[0],h=p[1];c.append(d,h)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}if(t instanceof Request&&!(null==e?void 0:e.headers)){var v=t.headers;try{for(var y=r(v.entries()),_=y.next();!_.done;_=y.next()){var b=o(_.value,2);d=b[0],h=b[1];c.append(d,h)}}catch(t){a={error:t}}finally{try{_&&!_.done&&(u=y.return)&&u.call(y)}finally{if(a)throw a.error}}}return c}(t,e);return this.headers.forEach((function(t,e){n?i.append(e,t):i.set(e,t)})),a(a({},e),{headers:i})},t.prototype.applyOnXHR=function(t){this.headers.forEach((function(e,n){t.setRequestHeader(n,e)}))},t.prototype.clone=function(){return new t({headers:this.headers})},t}(),c=function(){function t(t){this.locked=!1,this.content=t}return Object.defineProperty(t.prototype,"url",{get:function(){return this.content.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){return this.content.method},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteURL",{get:function(){return this.content.absoluteURL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this.content.body},enumerable:!1,configurable:!0}),t.prototype.setHeader=function(t,e){this.locked||this.content.headers.set(t,e)},t.prototype.appendHeader=function(t,e){this.locked||this.content.headers.append(t,e)},t.prototype.getHeader=function(t){return this.content.headers.get(t)},t.prototype.headerEntries=function(){return this.content.headers.entries()},t.prototype.headerKeys=function(){return this.content.headers.keys()},t.prototype.headerValues=function(){return this.content.headers.values()},t.prototype.lock=function(){this.locked=!0},t.prototype.unlock=function(){this.locked=!1},t}()},1964:function(t,e,n){n.d(e,{J:function(){return i},u:function(){return o}});var r=n(2010),o=function(){function t(t){this.headers=new r.W(null==t?void 0:t.headers),this.status=null==t?void 0:t.status}return t.fromFetch=function(e){return new t({headers:new Headers(e.headers),status:e.status})},t.fromXHR=function(e){var n=e.getAllResponseHeaders(),o=e.status;return new t({headers:(0,r.n)(n),status:o})},t.prototype.clone=function(){return new t({headers:this.headers})},t}(),i=function(){function t(t){this.locked=!1,this.content=t}return t.prototype.getHeader=function(t){return this.content.headers.get(t)},t.prototype.getStatus=function(){return this.content.status},t.prototype.headerEntries=function(){return this.content.headers.entries()},t.prototype.headerKeys=function(){return this.content.headers.keys()},t.prototype.headerValues=function(){return this.content.headers.values()},t.prototype.lock=function(){this.locked=!0},t.prototype.unlock=function(){this.locked=!1},t}()},4672:function(t,e,n){n.d(e,{UE:function(){return et},BD:function(){return rt},pF:function(){return nt}});var r,o=n(3742),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(){function t(){this.listeners=[],this.notifyingCount=0,this.needRemoveListenerCount=0,this.disposed=!1}return t.prototype.dispose=function(){this.disposed=!0,this.listeners=[]},t.prototype.addListener=function(t){var e=this;return this.listeners.push(t),function(){e.removeListener(t)}},t.prototype.removeListener=function(t){if(!this.disposed)for(var e=this.listeners.length,n=0;n<e&&!this.disposed;n++){if(this.listeners[n]===t){0===this.notifyingCount?this.listeners.splice(n,1):(this.listeners[n]=null,this.needRemoveListenerCount++);break}}},t.prototype.cleanNeedRemoveListener=function(){if(!this.disposed)for(var t=0;t<this.listeners.length;){this.listeners[t]?t++:this.listeners.splice(t,1)}},t.prototype.notifyListeners=function(t){this.internalNotifyListener(t)},t.prototype.activeListener=function(t,e){null==t||t(e)},t.prototype.internalNotifyListener=function(t){if(!this.disposed){this.notifyingCount++;for(var e=this.listeners.length,n=0;n<e&&!this.disposed;n++){var r=this.listeners[n];this.activeListener(r,t)}this.notifyingCount--,0===this.notifyingCount&&this.needRemoveListenerCount>0&&(this.cleanNeedRemoveListener(),this.needRemoveListenerCount=0)}},t}(),u=(function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.internalValue},set:function(t){this.internalSetValue(t),this.notifyListeners(t)},enumerable:!1,configurable:!0}),e.prototype.updateValue=function(t,e){e?this.internalSetValue(t):this.value=t},e.prototype.internalSetValue=function(t){this.internalValue!==t&&(this.internalValue=t)},e.prototype.addListener=function(e){return t.prototype.addListener.call(this,e)},e.prototype.removeListener=function(e){t.prototype.removeListener.call(this,e)}}(a),n(9782)),c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function l(t,e){void 0===e&&(e=!1);var n="";return n=t instanceof Request?t.url:function(t){return t instanceof URL}(t)?t.href:t,e||(n=this.isString(n)?n.split("?")[0]:n),n}var s=n(6707),f=n(1964),p=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},d=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},h=function(){function t(t){this.whiteList=null==t?void 0:t.whiteList,this.handleRequest=null==t?void 0:t.handleRequest,this.handleResponse=null==t?void 0:t.handleResponse,"undefined"!=typeof window&&window.fetch&&(this.revoke=this.patch())}return t.prototype.inWhiteList=function(t){return p(this,void 0,Promise,(function(){var e;return d(this,(function(n){return(e=this.whiteList)?Array.isArray(e)?[2,e.some((function(e){return e===t}))]:[2,e(t)]:[2,!1]}))}))},t.prototype.patch=function(){var t,e,n=this,r=!1,o=window.fetch,i=function(t,e){return p(n,void 0,void 0,(function(){var n,i,a,u,c,h=this;return d(this,(function(v){switch(v.label){case 0:return r?[2,o(t,e)]:(n=l(t,!0),[4,this.inWhiteList(n)]);case 1:return v.sent()?[2,o(t,e)]:(i=t,a=e,u=s.V.fromFetch(t,e),this.handleRequest?[4,this.handleRequest(u)]:[3,3]);case 2:u=v.sent(),c=u.applyOnFetch(t,e),i=t,a=c,v.label=3;case 3:return[2,o(i,a).then((function(t){return p(h,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this.handleResponse?[4,this.handleResponse(f.u.fromFetch(t),u)]:[3,2];case 1:return e.sent(),[2,t];case 2:return[3,4];case 3:return e.sent(),[3,4];case 4:return[2,t]}}))}))}))]}}))}))};return t=o,e=i,Object.defineProperties(e,{name:Object.getOwnPropertyDescriptor(t,"name"),length:Object.getOwnPropertyDescriptor(t,"length"),toString:{enumerable:!1,configurable:!1,writable:!0,value:function(){return t.toString()}},toLocaleString:{enumerable:!1,configurable:!1,writable:!0,value:function(){return t.toLocaleString()}},valueOf:{enumerable:!1,configurable:!1,writable:!0,value:function(){return t.valueOf()}}}),window.fetch=i,function(){r=!0}},t.prototype.dispose=function(){var t;null===(t=this.revoke)||void 0===t||t.call(this),this.handleRequest=void 0,this.handleResponse=void 0,this.whiteList=void 0},t}(),v=n(2010),y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},_=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},b=function(){function t(t){this.whiteList=null==t?void 0:t.whiteList,this.handleRequest=null==t?void 0:t.handleRequest,this.handleResponse=null==t?void 0:t.handleResponse,"undefined"!=typeof window&&window.XMLHttpRequest&&(this.revoke=this.patch())}return t.prototype.inWhiteList=function(t){return y(this,void 0,Promise,(function(){var e;return _(this,(function(n){return(e=this.whiteList)?Array.isArray(e)?[2,e.some((function(e){return e===t}))]:[2,e(t)]:[2,!1]}))}))},t.prototype.patch=function(){var t=window.XMLHttpRequest,e=!1,n=this;return window.XMLHttpRequest=new Proxy(t,{construct:function(t,r,o){if(e)return Reflect.construct(t,r,o);var i,a,u,c=Reflect.construct(t,r,o),l=new v.W,p=!1,d=function(t){return function(){for(var r=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];4!==this.readyState||e||p?null==t||t.call(this,o):y(r,void 0,void 0,(function(){var e,r;return _(this,(function(i){switch(i.label){case 0:return n.handleRequest?(e=f.u.fromXHR(this),[4,null===(r=n.handleResponse)||void 0===r?void 0:r.call(n,e,u)]):[3,2];case 1:i.sent(),i.label=2;case 2:return null==t||t.call(this,o),[2]}}))}))}};return new Proxy(c,{get:function(t,r,o){var f=t[r],h="";try{h=typeof f}catch(e){return t[r]}if(e)return"function"===h?function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return f.apply(this===o?t:this,e)}:t[r];try{if("setRequestHeader"===r)return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l.append(t[0],t[1])};if("open"===r)return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];a=e[0],i=e[1],t[r].apply(this===o?t:this,e)};if("send"===r)return function(){for(var f=this,h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];if(e)return l.forEach((function(t,e){c.setRequestHeader(e,t)})),void t[r].apply(this===o?t:this,h);y(f,void 0,void 0,(function(){return _(this,(function(e){switch(e.label){case 0:return[4,n.inWhiteList(i)];case 1:return(p=e.sent())?(l.forEach((function(t,e){c.setRequestHeader(e,t)})),t[r].apply(this===o?t:this,h),[2]):n.handleRequest?(u=s.V.fromXHR(this,{headers:l,url:i,method:a,body:h[0]}),[4,n.handleRequest(u)]):[3,3];case 2:return(u=e.sent()).applyOnXHR(c),[3,4];case 3:l.forEach((function(t,e){c.setRequestHeader(e,t)})),e.label=4;case 4:return t.onreadystatechange||(t.onreadystatechange=d(null)),t[r].apply(this===o?t:this,h),[2]}}))}))}}catch(t){}return"function"!==h?t[r]:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return f.apply(this===o?t:this,e)}},set:function(t,n,r){return e?(t[n]=r,!0):"onreadystatechange"===n?(t[n]=d(r),!0):(t[n]=r,!0)}})}}),function(){e=!0}},t.prototype.dispose=function(){var t;null===(t=this.revoke)||void 0===t||t.call(this)},t}(),g=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},m=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},w=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},E=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},C=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function O(){return"undefined"!=typeof performance?performance.now():Date.now()}var S,I=function(){function t(t){var e=this;this.disposed=!1,this.listenable=new a,this.requestInterceptors=[],this.responseInterceptors=[],this.handleRequest=function(t){return g(e,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return[4,this.requestScheduler(t)];case 1:return e.sent(),[2,t]}}))}))},this.handleResponse=function(t,n){return g(e,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return[4,this.responseScheduler(t,n)];case 1:return e.sent(),[2]}}))}))},this.inWhiteList=function(t){var n=e.whiteList;return!!n&&(Array.isArray(n)?n.some((function(e){return e===t})):n(t))},this.whiteList=null==t?void 0:t.whiteList,this.fetchPatcher=new h({handleRequest:this.handleRequest,handleResponse:this.handleResponse,whiteList:this.inWhiteList}),this.xhrPatcher=new b({handleRequest:this.handleRequest,handleResponse:this.handleResponse,whiteList:this.inWhiteList})}return t.prototype.setInterceptors=function(t,e){t&&(this.requestInterceptors=E([],w(t),!1)),e&&(this.responseInterceptors=E([],w(e),!1))},t.prototype.appendInterceptors=function(t,e){var n,r;t&&(n=this.requestInterceptors).push.apply(n,E([],w(t),!1)),e&&(r=this.responseInterceptors).push.apply(r,E([],w(e),!1))},t.prototype.addListener=function(t){return this.listenable.addListener(t)},t.prototype.requestScheduler=function(t){return g(this,void 0,Promise,(function(){var e,n,r;return m(this,(function(o){switch(o.label){case 0:return this.requestInterceptors.length?(e=[],n=E([],w(this.requestInterceptors),!1),r=O(),[4,this.runScheduler("Request",[t],e,n)]):[2];case 1:return o.sent(),this.listenable.notifyListeners({eventName:"SchedulerDone",data:{type:"request",duration:O()-r,done:e.map((function(t){return t.key})),pending:n.map((function(t){return t.key}))}}),[2]}}))}))},t.prototype.responseScheduler=function(t,e){return g(this,void 0,Promise,(function(){var n,r,o;return m(this,(function(i){switch(i.label){case 0:return this.responseInterceptors.length?(n=[],r=E([],w(this.responseInterceptors),!1),o=O(),[4,this.runScheduler("Response",[t,e],n,r)]):[2];case 1:return i.sent(),this.listenable.notifyListeners({eventName:"SchedulerDone",data:{type:"response",duration:O()-o,done:n.map((function(t){return t.key})),pending:r.map((function(t){return t.key}))}}),[2]}}))}))},t.prototype.runScheduler=function(t,e,n,r){var o;return g(this,void 0,void 0,(function(){var i,a,u,c,l,s,f,p,d,h,v,y,_,b,g,S,I,P,T,A,k,R,D,N,L,M,x=this;return m(this,(function(m){if(!r.length)return[2];a="do".concat(t,"Interceptor"),u=t.toLowerCase(),c=new Promise((function(t){return i=t})),l=[],s={};try{for(f=C(n),p=f.next();!p.done;p=f.next())A=p.value,s[A.key]=!0}catch(t){k={error:t}}finally{try{p&&!p.done&&(R=f.return)&&R.call(f)}finally{if(k)throw k.error}}for(d=r.length-1;d>=0;){if(A=r[d],null==(h=null===(o=A.dependencies)||void 0===o?void 0:o[u])?void 0:h.length){v=!0;try{for(D=void 0,y=C(h),_=y.next();!_.done;_=y.next())if("string"==typeof(b=_.value)){if(!s[b]){v=!1;break}}else if(!s[b.key]){v=!1;break}}catch(t){D={error:t}}finally{try{_&&!_.done&&(N=y.return)&&N.call(y)}finally{if(D)throw D.error}}v&&(l.push(A),r.splice(d,1))}else l.push(A),r.splice(d,1);d--}if(!l.length)return[2];g=0,S=function(){g===l.length&&(null==i||i())},I=function(o){var i=O();o[a].apply(o,E([],w(e),!1)).promise.then((function(a){var c=a.success,l=a.reason,s=a.result,f=a.message,p=O()-i;x.listenable.notifyListeners({eventName:"InterceptorFinish",data:{key:o.key,type:u,success:c,duration:p,reason:l,message:f}}),c?(n.push(o),!0===s&&x.runScheduler(t,e,n,r).then((function(){g++,S()}))):(g++,S())}))};try{for(P=C(l),T=P.next();!T.done;T=P.next())A=T.value,I(A)}catch(t){L={error:t}}finally{try{T&&!T.done&&(M=P.return)&&M.call(P)}finally{if(L)throw L.error}}return[2,c]}))}))},t.prototype.dispose=function(){this.disposed=!0,this.listenable.dispose(),this.fetchPatcher.dispose(),this.xhrPatcher.dispose()},t}(),P=n(5978),T=n(3788),A=n(4622),k=n(9936),R=n(4118),D=n(5958),N=n(5713),L=n(4056),M=n(2442),x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),U=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},F=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dependencies={request:["LarkGatewayInterceptor"]},e.request=function(t){return U(e,void 0,Promise,(function(){var e,n,r,i;return F(this,(function(a){switch(a.label){case 0:return[4,this.doNotIntercept(t.absoluteURL)];case 1:return a.sent()?[2,!0]:(t.setHeader(M.Ny,encodeURIComponent(o.u.options.passportId)),t.setHeader(M.zg,encodeURIComponent(M.Gd.LSC_VERSION_HEADER)),P.Ru||t.setHeader(M.EG,encodeURIComponent(M.Gd.TERMINAL_HEADER)),e=(0,R.ej)(M.cp),[4,o.u.getConfig()]);case 2:return n=null===(i=null===(r=a.sent())||void 0===r?void 0:r.featureSwitch)||void 0===i?void 0:i.grant_token,e&&n&&t.setHeader(M.CM,e),[2,!0]}}))}))},e.response=function(t,n){return U(e,void 0,Promise,(function(){var e,r,i,a,u,c,l,s,f,p,d,h,v,y,_;return F(this,(function(b){switch(b.label){case 0:return[4,this.doNotIntercept()];case 1:return b.sent()?[2,!0]:[4,o.u.getConfig()];case 2:return e=b.sent(),r=null==e?void 0:e.securityWebDomain,i=n.url.toString(),e?(a=t.getHeader(M.oX),u=t.getHeader(M.sb),c=(0,M.JT)(u),l=c.actions,s=c.decision,f=null===(y=l[0])||void 0===y?void 0:y.name,p=o.u.options.passportId,d=o.u.options.language,h={appid:p,language:d,redirectUrl:(null===(_=null===window||void 0===window?void 0:window.location)||void 0===_?void 0:_.href)||"",actions:l},v=function(){(0,L.Z)({urlParams:h,securityWebDomain:r,lscCode:a,lscDecision:u,decision:s,actions:l,appId:p,url:i})},a?0===l.length?(D.j4.send("cond_access_server_decision",{type:"error",code:a}),this.error("".concat(n.url.toString(),":").concat(k.Rm.NO_ACTION_IN_RESPONSE_HEADER,":").concat(u)),[2,!0]):[T.Jg.Network,T.Jg.MFA,T.Jg.DeviceState,T.Jg.DeviceOwn,T.Jg.ACCESS_CONTROL_ACTION_COMMON].includes(f)&&a===N.d&&r?(D.j4.beaconEvent("cond_access_server_decision",{type:"success",code:a,action_name:f}),v(),[2,!0]):[2,!0]:[2,!0]):(this.error("".concat(n.url.toString())),[2,!0])}}))}))},e}return x(e,t),e.prototype.doNotIntercept=function(t){return U(this,void 0,Promise,(function(){var e;return F(this,(function(n){switch(n.label){case 0:return[4,o.u.getConfig()];case 1:return((e=n.sent())||(null==t?void 0:t.includes(window.location.host)))&&e.sdkSwitch?[2,!1]:[2,!0]}}))}))},e.prototype.error=function(t,e){void 0===e&&(e=""),(0,D.DO)({funcName:"",args:[],error:void 0,type:"error",cause:t,stack:e})},e.key="ConditionalAccessInterceptor",e}(A.n),j=n(213),H=n(2345),G=n(1720),W=n(4455),V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},K=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},Y=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},J=function(t){function e(){var e=t.call(this)||this;return e.initTimer(),e.onVisibilityChange(),e}var n;return V(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return new n},enumerable:!1,configurable:!0}),e.prototype.initTimer=function(t){var e;return K(this,void 0,Promise,(function(){var n,r;return Y(this,(function(i){switch(i.label){case 0:return[4,o.u.getConfig()];case 1:return n=i.sent(),r=null===(e=null==n?void 0:n.featureParams)||void 0===e?void 0:e.heartbeatInterval,this.addTimer({handler:this.ping.bind(this),interval:t||r||G.l3.interval,immediate:!0}),[2]}}))}))},e.prototype.ping=function(){var t,e;return K(this,void 0,void 0,(function(){var n,r,i,a,u;return Y(this,(function(c){switch(c.label){case 0:return[4,o.u.getConfig()];case 1:return n=c.sent(),r=null==n?void 0:n.securityApiDomain,i=null===(t=null==n?void 0:n.featureSwitch)||void 0===t?void 0:t.heartbeat,a=null===(e=null==n?void 0:n.featureParams)||void 0===e?void 0:e.heartbeatInterval,n&&r&&!o.u.options.isPersonalTenant?this.heartbeatOn!==i&&void 0!==this.heartbeatOn?(this.clearAllTimers(),u=i?a:36e5,this.initTimer(u),this.heartbeatOn=i,[2]):(this.heartbeatOn=i,this.heartbeatOn?((0,H.q)(r),[2]):[2]):[2]}}))}))},e=n=q([(0,j.p)()],e)}(W.N),Z=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},Q=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},X=[/\/settings\/v3/,/\/monitor_browser\/collect\/batch/,/\/space\/api\/v2\/sheet\/sub_block/,/\/space\/api\/v2\/sheet\/client_vars/,/\/client_vars/,/\/space\/api\/v2\/sheet\/formula_cache/,/\/space\/api\/suite\/permission\/user\/mget/,/\/space\/api\/suite\/permission\/document\/actions\/state/,/\/vc\/api\/custom_level\/first_screen/,/\/space\/api\/comment\/message_box\/get_init_data/,/\/space\/api\/ccm_setting\/get/,/\/space\/api\/user/,/.*\.js/,/\/lark\/security\/internal\/terminal\/intranet\/token/,/\/lark\/security\/terminal\/intranet\/service_info/];function z(t,e){return void 0===t&&(t=[]),t.some((function(t){return function(t,e){return void 0===e&&(e=""),new RegExp(t.replace(/[\[\]\\{}()+*?.$^|]/g,(function(t){return"\\".concat(t)})),e)}(t.pattern,t.flags).test(e)}))}function $(t){return Z(this,void 0,Promise,(function(){var e,n,r,i,a,u,c,l;return Q(this,(function(s){switch(s.label){case 0:try{e=new URL(t,window.location.origin).href}catch(n){e=t}return X.some((function(t){return t.test(e)}))?[2,!0]:[4,o.u.getConfig()];case 1:return(n=s.sent())?(r=n.whiteList,a=(i=r||{}).userAgent,u=i.locationSearch,z(a,null===navigator||void 0===navigator?void 0:navigator.userAgent)||z(u,null===location||void 0===location?void 0:location.search)?[2,!0]:(c=function(t){var e=o.u.options.baseDomain,n=t.whiteList||{},r=n.requestUrl,i=n.shouldInterceptUrl,a=null==r?void 0:r.map((function(t){return{pattern:t.pattern.replace(/{{baseDomain}}/,e),flags:t.flags}}));return{shouldInterceptUrls:null==i?void 0:i.map((function(t){return{pattern:t.pattern.replace(/{{baseDomain}}/,e),flags:t.flags}})),shouldnotInterceptUrls:a}}(n),l=c.shouldnotInterceptUrls,[2,!z(c.shouldInterceptUrls,e)||z(l,e)])):[2,!0]}}))}))}function tt(t){return Z(this,void 0,Promise,(function(){var e,n;return Q(this,(function(r){switch(r.label){case 0:return e=function(t){if(!(0,u.Z)(t))return!1;var e=c(t.split(":"),2),n=e[0];return!e[1]||"http"===n||"https"===n}(t),(n=!e)?[3,2]:[4,$(t)];case 1:n=r.sent(),r.label=2;case 2:return[2,n]}}))}))}var et=function(){var t,e;try{return(null===(e=null===(t=o.u.getConfigSync())||void 0===t?void 0:t.featureSwitch)||void 0===e?void 0:e.disableInterceptor)?null:(S||(S=new I({whiteList:tt})),S)}catch(t){return null}},nt=function(){var t;new J;var e=new B;null===(t=et())||void 0===t||t.setInterceptors([e],[e])},rt=function(){n.e(82).then(n.bind(n,6387)).then((function(t){return new(0,t.LoginRestriction)}))}},2442:function(t,e,n){n.d(e,{CM:function(){return c},DH:function(){return w},EG:function(){return s},Gd:function(){return a},Ig:function(){return L},JT:function(){return i},Ny:function(){return f},Pj:function(){return N},Rg:function(){return _},T9:function(){return E},UA:function(){return m},Wh:function(){return k},_E:function(){return p},bH:function(){return P},cp:function(){return l},cy:function(){return M},e8:function(){return T},eM:function(){return d},h7:function(){return y},md:function(){return b},o7:function(){return v},oX:function(){return S},pX:function(){return I},qA:function(){return h},sb:function(){return O},sh:function(){return C},w5:function(){return R},xD:function(){return A},xH:function(){return g},zg:function(){return u},zk:function(){return D}});var r=n(3788),o=n(7899),i=function(t){var e=(0,o.a)(t),n=(null==e?void 0:e.actions)||[],i=null==e?void 0:e.containerType;return e&&!(null==e?void 0:e.effect)&&(e.effect=r.Qm.Deny),{decision:e,actions:n,containerType:i}},a={TERMINAL_HEADER:"web",LSC_VERSION_HEADER:"1"},u="x-lsc-version",c="x-lsc-grant-token",l="grant-token-fe",s="x-lsc-terminal",f="x-lsc-bizid",p="x-lgw-terminal-type",d="x-lgw-os-type",h="x-lgw-app-version",v="x-lgw-device-id",y="x-lgw-os-version",_="x-lgw-device-type",b="x-lgw-install-id",g="x-lgw-locale",m="x-lgw-app-id",w="x-lgw-user-id",E="x-lgw-sec-token",C="x-lgw-csrf-token",O="x-lsc-decision",S="x-lsc-code",I="x-lsc-source-ip",P="x-passport-dpop",T="x-passport-dpop-certificate",A="x-passport-dpop-decision",k="lark-policy-sdk-crypto-store",R="lmp_crypto_cache",D="lmp_key_pair_v2",N="lmp_certificate_key",L=403,M="lgw_csrf_token"},5533:function(t,e,n){n.d(e,{B:function(){return a}});var r=n(3742),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},a=function(){return function(t,e,n){var a=n.value;n.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!r.u.hasInited())throw Error("Please use policySdk.init({...}) first !");return a.apply(this,i([],o(t),!1))}}}},3742:function(t,e,n){n.d(e,{u:function(){return A}});var r,o=n(3031),i=n(9972),a=n(4821),u=n(2074),c=n(6379),l=n(4720),s=n(213),f=n(2463),p=n(5978),d=n(5958),h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},v=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},y=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},_=function(t){return v(void 0,void 0,Promise,(function(){var e,n,r,o,i,a,c,l,s,f,v,_,b,g,m,w,E,C,O,S,I,P,T,k,R,D,N,L,M,x,U,F,B,j,H,G,W,V,q,K,Y,J,Z,Q,X,z,$,tt,et,nt,rt,ot,it,at,ut,ct,lt,st,ft,pt,dt,ht,vt,yt,_t,bt,gt,mt,wt,Et,Ct,Ot,St,It;return y(this,(function(y){switch(y.label){case 0:if(n=(e=t||{}).settingDomain,r=e.passportId,o=e.devSdkConfig,i=e.env,!n)throw Error("empty settingDomain");return a=function(t,e){void 0===e&&(e="");var n=p.Ru?"pc":"web";return t||(0,d.DO)({error:"getConfigApiUrl: settingDomain not available (passportId: ".concat(e,", platform: ").concat(n,")"),type:"Error",funcName:"getConfigApiUrl",args:[]}),"https://".concat(t,"/settings/v3/?platform=").concat(n,"&app_id=").concat(e,"&version=7.60.0&tags=policy_sdk_config&fg_tags=policy_sdk_config")}(n,r),i===u.qA.development&&o?(c=o,[3,5]):[3,1];case 1:return A.requestMethod?[3,5]:[3,2];case 2:return[4,fetch(a,{credentials:"include"})];case 3:return[4,y.sent().json()];case 4:c=y.sent(),y.label=5;case 5:if(l=null===(N=null===(D=null===(R=null==c?void 0:c.data)||void 0===R?void 0:R.biz_domain_config)||void 0===D?void 0:D.security_and_compliance)||void 0===N?void 0:N[0],s=null===(x=null===(M=null===(L=null==c?void 0:c.data)||void 0===L?void 0:L.biz_domain_config)||void 0===M?void 0:M.security_login_restriction)||void 0===x?void 0:x[0],f=null===(B=null===(F=null===(U=null==c?void 0:c.data)||void 0===U?void 0:U.biz_domain_config)||void 0===F?void 0:F.passport_accounts)||void 0===B?void 0:B[0],v=null===(G=null===(H=null===(j=null==c?void 0:c.data)||void 0===j?void 0:j.biz_domain_config)||void 0===H?void 0:H.passport_page)||void 0===G?void 0:G[0],_=null===(q=null===(V=null===(W=null==c?void 0:c.data)||void 0===W?void 0:W.biz_domain_config)||void 0===V?void 0:V.passport_accounts_nomg)||void 0===q?void 0:q[0],b=null===(J=null===(Y=null===(K=null==c?void 0:c.data)||void 0===K?void 0:K.biz_domain_config)||void 0===Y?void 0:Y.security_web)||void 0===J?void 0:J[0],g=null===(X=null===(Q=null===(Z=null==c?void 0:c.data)||void 0===Z?void 0:Z.biz_domain_config)||void 0===Q?void 0:Q.scs_data)||void 0===X?void 0:X[0],m=null===(tt=null===($=null===(z=null==c?void 0:c.data)||void 0===z?void 0:z.biz_domain_config)||void 0===$?void 0:$.lgw_csrf_domain)||void 0===tt?void 0:tt[0],w=null===(et=null==c?void 0:c.data)||void 0===et?void 0:et.sec_sdk_web,E=null===(ot=null===(rt=null===(nt=null==c?void 0:c.data)||void 0===nt?void 0:nt.biz_domain_config)||void 0===rt?void 0:rt.suite_bdmssdk)||void 0===ot?void 0:ot[0],C=null===(ut=null===(at=null===(it=null==c?void 0:c.data)||void 0===it?void 0:it.session_dpop)||void 0===at?void 0:at.path)||void 0===ut?void 0:ut.whiteList,O=null===(st=null===(lt=null===(ct=null==c?void 0:c.data)||void 0===ct?void 0:ct.session_dpop)||void 0===lt?void 0:lt.path)||void 0===st?void 0:st.blackList,S=null===(dt=null===(pt=null===(ft=null==c?void 0:c.data)||void 0===ft?void 0:ft.biz_domain_config)||void 0===pt?void 0:pt.applink)||void 0===dt?void 0:dt[0],I=null===(yt=null===(vt=null===(ht=null==c?void 0:c.data)||void 0===ht?void 0:ht.biz_domain_config)||void 0===vt?void 0:vt.help_center)||void 0===yt?void 0:yt[0],P=null===(gt=null===(bt=null===(_t=null==c?void 0:c.data)||void 0===_t?void 0:_t.biz_domain_config)||void 0===bt?void 0:bt.sec_slardar_cdn)||void 0===gt?void 0:gt[0],T=null===(Et=null===(wt=null===(mt=null==c?void 0:c.data)||void 0===mt?void 0:mt.biz_domain_config)||void 0===wt?void 0:wt.sec_slardar_report)||void 0===Et?void 0:Et[0],k=null===(St=null===(Ot=null===(Ct=null==c?void 0:c.data)||void 0===Ct?void 0:Ct.biz_domain_config)||void 0===Ot?void 0:Ot.sec_tea_report)||void 0===St?void 0:St[0],!l)throw Error("empty api domain");return[2,h(h({},null===(It=null==c?void 0:c.data)||void 0===It?void 0:It.policy_jssdk),{securityApiDomain:l,securityWebDomain:b,securityDataDomain:g,passportAccountsDomain:f,passportAccountsDomainNoMg:_,securityLoginRestrictionApiDomain:s,csrfApiDomain:m,secSdkWeb:w,bdmsSdkApiDomain:E,sessionDPoP:{whiteList:C,blackList:O},applink:S,helpcenter:I,domains:{passport_page:v,slardar_cdn:P,slardar_report:T,tea_report:k}})]}}))}))},b=n(9936),g=n(1720),m=n(4455),w=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),E=function(t){function e(){var e=t.call(this)||this;return e.onVisibilityChange(),e}return w(e,t),e}(m.N),C=n(2515),O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(){return(S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},I=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},P=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},T=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n,r;return O(e,t),n=e,e.prototype.setRequestMethod=function(t){this.requestMethod=t},Object.defineProperty(e.prototype,"options",{get:function(){return this._options?S({},this._options):{}},enumerable:!1,configurable:!0}),e.prototype.handleOnOptionsChange=function(t,e){(null==e?void 0:e.userId)&&(null==t?void 0:t.userId)!==e.userId&&((0,C.I)(e.userId),(0,d.e3)().then((function(t){t.updateConfig({userId:e.userId}),t.eventInfoWithLog("config update",{})})),f.u.emit(u.GE.SDK_LOGIN,e.userId),(null==t?void 0:t.userId)&&f.u.emit(u.GE.TENANT_SWITCH,e))},Object.defineProperty(e,"instance",{get:function(){return new n},enumerable:!1,configurable:!0}),e.prototype.hasInited=function(){return Object.keys(this.options).length>0},e.prototype.initOptions=function(t){return!this.hasInited()&&(this._options=t,!0)},e.prototype.setOptions=function(t){if(!this.hasInited())throw Error("Please initOptions first!");return this._options=S(S({},this._options),t),S({},this._options)},e.prototype.queryInfos=function(){this.getConfig()},e.prototype.setupTimers=function(){return P(this,void 0,void 0,(function(){var t,e,n,r,o,i=this;return T(this,(function(a){switch(a.label){case 0:return A.clearAllTimers(),[4,this.getConfig()];case 1:return t=a.sent(),f.u.emit(u.GE.SDK_COLD_BOOST,t),e=(null==t?void 0:t.featureParams)||{},n=e.policy_engine_fetch_policy_interval,r=e.queryConfigInterval,this.addTimer({handler:function(){return i.queryConfig()},interval:r||g.sI.interval}),o=n||g.sI.interval,this.addTimer({handler:function(){return f.u.emit(u.GE.STATIC_POINTCUT_POLLING)},interval:o}),[2]}}))}))},e.prototype.getConfig=function(){var t=this;return c.g.getCacheAsync({query:function(){return t.queryConfig()},partition:"".concat(this.options.userId,"-").concat(this.options.passportId)}).then((function(t){if(t){var e=t.securityApiDomain;if(!e)throw Error(b.cl.GET_SECURITY_API_DOMAIN_ERROR);(0,i.Rv)({baseURL:e.startsWith("http")?e:"https://".concat(e)}),(0,a.gY)({baseURL:e.startsWith("http")?e:"https://".concat(e)})}return t}))},e.prototype.getConfigSync=function(){return c.g.getCache("".concat(this.options.userId,"-").concat(this.options.passportId))||null},e.prototype.queryConfig=function(){return P(this,void 0,void 0,(function(){var t,e,n;return T(this,(function(r){switch(r.label){case 0:return[4,_(this.options)];case 1:return t=r.sent(),e=c.g.getCache("".concat(this.options.userId,"-").concat(this.options.passportId)),(n=S(S({},e),t)).securityWebDomain||("empty security web domain@getConfig",(0,d.M2)({error:"empty security web domain@getConfig",type:"Error",funcName:"queryConfig",newSecurityApiDomain:null==t?void 0:t.securityApiDomain,oldSecurityApiDomain:null==e?void 0:e.securityApiDomain,args:[]})),[2,c.g.setCache("".concat(this.options.userId,"-").concat(this.options.passportId),n)]}}))}))},e.prototype.waitUntilFinishLoading=function(t){var e=t.timeout,n=t.interval,r=t.getCache,i=t.setCache,a=t.timeoutDecision;return(0,o.X_)((function(){var t=r();if(!t||(null==t?void 0:t.cache.loading))throw Error(b.cl.GENERAL_QUERY_INFO_TIMEOUT);return t}),{interval:n,timeout:e}).catch((function(t){return(0,d.DO)({error:t,type:"Error",funcName:"waitUntilFinishLoading",args:[e,n,a]}),i({success:!1,loading:!1,fallbackDecision:a,errorMsg:null==t?void 0:t.message,errorStack:null==t?void 0:t.stack})}))},I([(r=function(t,e,n){t.handleOnOptionsChange(e,n)},function(t,e,n){var o,i=null===(o=null==n?void 0:n.initializer)||void 0===o?void 0:o.call(n);return{get:function(){return i},set:function(e){r(t,i,e),i=e}}})],e.prototype,"_options",void 0),I([(0,l.f)({onCatch:function(){return null},onReturn:function(t,e){return e||null}})],e.prototype,"getConfig",null),I([(0,l.f)({onCatch:function(){return null}})],e.prototype,"queryConfig",null),e=n=I([(0,s.p)()],e)}(E).instance},8617:function(t,e,n){n.d(e,{E:function(){return v}});var r=n(3788),o=n(213),i=n(3742),a=n(5533),u=n(2074),c=n(5958),l=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},s=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};var f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},p=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},d=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},h=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},v=new(function(){function t(){this.plugins={}}return t.prototype.registerPlugin=function(t,e){if(!this.plugins[t.pluginName]){if(!t.pluginName)throw Error("Plugin need static property: pluginName: string, Please add it!");this.plugins[t.pluginName]=new t(i.u.options,e)}},t.prototype.getPluginByName=function(t){return this.plugins[t]},t.prototype.getPluginsBy=function(t){return Object.values(this.plugins).flatMap((function(e){var n,r=null===(n=null==e?void 0:e.match)||void 0===n?void 0:n.call(e,t.map((function(t){return t.policyModel.pointKey})));if(r){var o=new Set(r);return{plugin:e,inputs:t.filter((function(t){return o.has(t.policyModel.pointKey)}))}}return[]}))},t.prototype.execPluginCheckAction=function(t,e){var n=this;return function(t,e){return l(this,void 0,void 0,(function(){var n,r,o,i,a;return s(this,(function(u){switch(u.label){case 0:n=[],r=[],o=0,u.label=1;case 1:if(!(o<t.length))return[3,6];u.label=2;case 2:return u.trys.push([2,4,,5]),[4,e(t[o],o,t)];case 3:return i=u.sent(),n.push(i.result),i.cancel?[3,6]:[3,5];case 4:return a=u.sent(),r.push({item:t[o],error:a}),[3,5];case 5:return o++,[3,1];case 6:return[2,{result:n,errors:r}]}}))}))}(this.getPluginsBy(t),(function(t){return d(n,void 0,void 0,(function(){var n,r;return h(this,(function(o){switch(o.label){case 0:return n=t.plugin,r=t.inputs,[4,e(n,r)];case 1:return[2,{result:o.sent(),cancel:!1}]}}))}))})).then((function(e){var o=e.result,i=e.errors;n.handlePluginError(i);var a=t.reduce((function(t,e){return o.forEach((function(n){var o;if(n){var i=n[e.taskId];if((null==i?void 0:i.effect)===r.Qm.Deny)return void(t[e.taskId]=f(f({},i),{type:u.Up.pluginCalculate}));(null===(o=t[e.taskId])||void 0===o?void 0:o.effect)||(t[e.taskId]=f(f({},i),{type:u.Up.pluginCalculate}))}})),t}),{});return Object.keys(a).length>0&&a}))},t.prototype.execPluginCheckActionSync=function(t,e){var n;return this.getPluginsBy([t]).some((function(t){var o=t.plugin,i=t.inputs,a=e(o,i[0]);return!(!a||(n=a,(null==a?void 0:a.effect)!==r.Qm.Deny))})),!!n&&f(f({},n),{type:u.Up.pluginCalculate})},t.prototype.handlePluginError=function(t){t.length>0&&t.forEach((function(t){(0,c.DO)({funcName:"execPluginCheckAction",error:t.error,args:[t.item.plugin.getPluginName()],type:"Error"})}))},t.prototype.updateOldPastePlugin=function(t,e){var n,r,o=e.options,i=e.pluginProps,a=Object.keys(o).length>0;i&&((null==t?void 0:t.registerProps)&&(t.registerProps=f(f({},t.registerProps),i)),null===(n=null==t?void 0:t.onRegisterPropsChange)||void 0===n||n.call(t,i)),a&&(t.commonProps=f(f({},t.commonProps),o),null===(r=null==t?void 0:t.onCommonPropsChange)||void 0===r||r.call(t,o))},t.prototype.updateProps=function(t){var e=this,n=t.options,r=void 0===n?{}:n,o=t.pluginProps,i=void 0===o?{}:o;Object.keys(this.plugins).forEach((function(t){var n,o=e.plugins[t];e.updateOldPastePlugin(o,{options:r,pluginProps:i[t]}),null===(n=null==o?void 0:o.updateProps)||void 0===n||n.call(o,r,i[t])}))},p([(0,a.B)()],t.prototype,"registerPlugin",null),p([(0,a.B)()],t.prototype,"getPluginByName",null),t=p([(0,o.p)()],t)}())},2106:function(t,e,n){n.d(e,{U:function(){return r},W:function(){return o}});var r=function(){},o=function(){function t(t,e){this.commonProps=t,this.pluginProps=e}return t.prototype.match=function(t){var e=this,n=t.filter((function(t){var n;return null===(n=e.pointKeyList)||void 0===n?void 0:n.includes(t)}));return n.length>0&&n},t}()},2345:function(t,e,n){n.d(e,{p:function(){return c},q:function(){return u}});var r=n(3198),o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},a=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},u=function(t){return i(void 0,void 0,Promise,(function(){var e,n,i;return a(this,(function(a){switch(a.label){case 0:return e=t.startsWith("http")?"".concat(t,"/lark/scs/compliance/ping"):"https://".concat(t,"/lark/scs/compliance/ping"),[4,r.R.getExtraHeaders({url:e,method:"GET"})];case 1:return n=a.sent(),i=o({},n),[2,fetch(e,{method:"GET",credentials:"include",headers:i}).then((function(t){return t.text()})).catch((function(){}))]}}))}))},c=function(t){return i(void 0,void 0,Promise,(function(){var e,n,i;return a(this,(function(a){switch(a.label){case 0:return e=t.startsWith("http")?"".concat(t,"/lark/scs/compliance/ping_tenant_restriction"):"https://".concat(t,"/lark/scs/compliance/ping_tenant_restriction"),[4,r.R.getExtraHeaders({url:e,method:"GET"})];case 1:return n=a.sent(),i=o({},n),[2,fetch(e,{method:"GET",credentials:"include",headers:i})]}}))}))}},9936:function(t,e,n){n.d(e,{My:function(){return i},Rm:function(){return r},cl:function(){return o}});n(2074).Mi.FileProtect;var r={NO_ACTION_IN_RESPONSE_HEADER:"NO ACTION IN RESPONSE HEADER",DECISION_IS_NOT_JSON:"DECISION IS NOT JSON",DECISION_IS_NOT_ARRAY:"DECISION IS NOT ARRAY",RESPONSE_ACTION_NAME_IS_EMPTY:"RESPONSE ACTION NAME IS EMPTY",OVERRITE_FETCH_ERROR:"OVERRITE FETCH ERROR",OVERRITE_XHR_ERROR:"OVERRITE XHR ERROR"},o={PRELOAD_DECISION_ERROR:"Preload decision error, we have report to slardar, you can oncall to follow this problem",BATCH_CHECK_DECISION_ERROR:"Batch check decision error, we have report to slardar, you can oncall to follow this problem",IS_FAST_PASS_ERROR:"Is Fast Pass error, we have report to slardar, you can oncall to follow this problem",LOAD_TENANT_POLICY_ERROR:"Load tenant policy error, we have report to slardar, you can oncall to follow this problem",CHECK_ACTION_ERROR:"Exec checkAction error,  we have report to slardar, you can oncall to follow this problem",GET_SECURITY_API_DOMAIN_ERROR:"Get securityApiDomain error,  we have report to slardar, you can oncall to follow this problem",GENERAL_QUERY_INFO_TIMEOUT:"General query info error, we have report to slardar, you can oncall to follow this problem",QUERY_CONFIG_INFO_TIMEOUT:"Query config info error, we have report to slardar, you can oncall to follow this problem",CALC_RULES_WITHOUT_EXPR:"No expr in condition",PRELOAD_DECISION_MAXIMUM_LIMIT_EXCEEDED:"Batch threshold = 2000 met!",LOAD_SDK_CONFIG_FAIL:"Load Sdk Config Fail, Details:",ENFORCEMENT_REQUEST_ERROR:function(t){return"Enforcement request with error code: ".concat(t)},FEATURE_KEY_NOT_FOUND:"Feature key not found error",DISABLE_FILE_OPERATE_ON:"disable_file_operate key is true"},i={batchThreshold:100,countsPerBatchEnforce:20,countsPerBatchControlCheck:100}},1720:function(t,e,n){n.d(e,{Sx:function(){return u},l3:function(){return o},r_:function(){return i},sI:function(){return r},xS:function(){return a}});var r={retryInterval:1e3,timeout:3e3,interval:3e5},o={retryInterval:1e3,timeout:1e4,interval:5e3},i={retryInterval:1e3,timeout:1e4,interval:9e5},a=200,u=500},4455:function(t,e,n){n.d(e,{N:function(){return r}});var r=function(){function t(){this.timers=[]}return t.prototype.stopAllTimers=function(){this.timers.forEach((function(t){t.timer&&clearInterval(t.timer)}))},t.prototype.clearAllTimers=function(){this.stopAllTimers(),this.timers=[]},t.prototype.addTimer=function(t){if(!t.interval)throw Error("Please set interval for addTimer !");t.immediate&&t.handler(!0),t.timer=setInterval(t.handler,t.interval),this.timers.push(t)},t.prototype.reStartAllInterval=function(){this.timers.forEach((function(t){t.timer&&(clearInterval(t.timer),t.immediate&&t.handler(!0),t.timer=setInterval(t.handler,t.interval))}))},t.prototype.onVisibilityChange=function(){var t,e=this;"undefined"!=typeof document&&(null===(t=document.addEventListener)||void 0===t||t.call(document,"visibilitychange",(function(){"visible"===document.visibilityState?e.reStartAllInterval():e.stopAllTimers()})))},t}()},2074:function(t,e,n){n.d(e,{BN:function(){return l},GE:function(){return o},JZ:function(){return s},Mi:function(){return i},ST:function(){return r},Up:function(){return u},dR:function(){return a},lR:function(){return d},qA:function(){return p},yp:function(){return f}});var r,o,i,a,u,c=n(3788),l={effect:c.Qm.Permit,actions:[]},s=(c.Qm.NotApplicable,c.Qm.Indeterminate,{effect:c.Qm.Deny,actions:[]});!function(t){t.CONDITIONAL_ACCESS="PUSH_REQ_REGULATE",t.FILE_OPERATION_DENIAL="FILE_OPERATION_DENIAL",t.SIGNATURE_FAILURE="SIGNATURE_FAILURE",t.POLICY_UPDATE="POLICY_UPDATE",t.POINTCUT_UPDATE="POINTCUT_UPDATE",t.WORKFLOW_LOG="WORKFLOW_LOG",t.PRELOAD_DECISION_UPDATE="PRELOAD_DECISION_UPDATE",t.DECISION_UPDATE="DECISION_UPDATE"}(r||(r={})),function(t){t.STATIC_POINTCUT_POLLING="STATIC_POINTCUT_CHECK",t.NETWORK_ONLINE="NETWORK_ONLINE",t.NETWORK_OFFLINE="NETWORK_OFFLINE",t.BACK_TO_FRONT="VISIBILITY_CHANGE",t.TENANT_SWITCH="TENANT_SWITCH",t.SDK_COLD_BOOST="SDK_COLD_BOOST",t.SDK_LOGIN="SDK_LOGIN",t.DEVICE_AUTH_STATUS_CHANGE="DEVICE_AUTH_STATUS_CHANGE",t.LOAD_ENTITY="LOAD_ENTITY"}(o||(o={})),function(t){t.ConditionalAccessPolicy="COND_ACCESS",t.RetentionScopePolicy="RETENTION_SCOPE",t.RetentionDeletePolicy="RETENTION_DELETE",t.DLPPolicy="DLP",t.DLPAsyncPolicy="DLP_ASYNC",t.AlarmBehaviorAudit="ALARM_BEHAVIOR_AUDIT",t.DLPNative="DLP_NATIVE",t.FileProtect="FILE_PROTECT"}(i||(i={})),function(t){t[t.Allow=1]="Allow",t[t.Deny=2]="Deny"}(a||(a={})),function(t){t.frontFastpass="frontFastpass",t.frontFallback="frontFallback",t.backendFallback="backendFallback",t.settingsFallback="settingsFallback",t.frontCalculate="frontCalculate",t.backendCalculate="backendCalculate",t.pluginCalculate="pluginCalculate",t.cache="cache",t.unknown="unknown"}(u||(u={}));var f,p,d=[u.frontCalculate,u.backendCalculate,u.pluginCalculate];!function(t){t.cn="cn",t.sg="sg",t.va="va",t.gcp="gcp",t.private="private"}(f||(f={})),function(t){t.development="development",t.boe="boe",t.online="online"}(p||(p={}))},4118:function(t,e,n){n.d(e,{d8:function(){return r},ej:function(){return o},kT:function(){return i}});var r=function(t){var e=t.key,n=t.value,r=t.domain,o=t.path,i=t.expires,a=void 0===i?new Date(Date.now()+2592e6).toUTCString():i,u=["".concat(e,"=").concat(n),r?"domain=".concat(r):"","expires=".concat(a),o?"path=".concat(o):"path=/"];document.cookie=u.filter(Boolean).join(";")},o=function(t){var e=document.cookie;if(!e||!t)return"";var n=e.split(";").find((function(e){return-1!==e.indexOf("".concat(t,"="))}));return n?function(t){try{return-1!==t.indexOf("%")?decodeURIComponent(t):t}catch(e){return t}}(n.trim().slice(t.length+1,n.length)):""},i=function(t){var e=t.key,n=t.domain,r=t.path,o=["".concat(e,"="),n?"domain=".concat(n):"","expires=Thu, 01 Jan 1970 00:00:01 GMT",r?"path=".concat(r):"path=/"];document.cookie=o.filter(Boolean).join(";")}},7899:function(t,e,n){n.d(e,{Z:function(){return o},a:function(){return i}});var r=["OBJECT_TENANT_ID","OBJECT_USER_ID","TENANT_ID","USER_ID","CHAT_ID","operatorTenantId","operatorUid","senderTenantId","senderUserId","ownerTenantId","ownerUserId","chatID","type","objectType"],o=function(t){var e=t;return r.forEach((function(t){e=e.replace(new RegExp('"'.concat(t,'":("([0-9]+)")')),'"'.concat(t,'":$2'))})),e},i=function(t,e){void 0===e&&(e={});try{return JSON.parse(t)}catch(t){return e}}},5958:function(t,e,n){n.d(e,{j4:function(){return _},e3:function(){return d},Ty:function(){return y},DO:function(){return g},M2:function(){return b}});var r,o=n(2872),i=n(5978),a=n(2074),u=function(){return(0,i.FH)(location.host).brand===i.H2.FEISHU?"cn":"sg"},c=n(2515),l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},f=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},p={initialize:function(t){},client:function(t,e,n){},sendEvent:function(t,e){},eventErrorWithLog:function(t,e){},eventInfoWithLog:function(t,e){},updateConfig:function(t){}},d=function(){return s(void 0,void 0,void 0,(function(){var t;return f(this,(function(e){switch(e.label){case 0:return(null===o._||void 0===o._?void 0:o._.report)?[4,n.e(611).then(n.bind(n,2500))]:[2,p];case 1:return t=e.sent().LmpReport,r||(r=new t),[2,r]}}))}))},h={cn:1161,va:1164,sg:1164,my:1164};var v=/(?:\/)?(?:space\/|drive\/)?(?:preview\/)?(?:component\/)?([a-zA-Z-_]+)?(?:\/([\w]*))/;var y=function(t,e){var r=t.env,l=t.region,p=t.bid,y=t.passportId,b=t.tenantId,g=function(t){if(void 0===t&&(t=window.location.pathname),t.split("/").filter((function(t){return t})).length<2)return"";var e=v.exec(t);return null==e?void 0:e[2]}();d().then((function(t){var n,o,s;t.initialize({bid:p||"lark_policy_sdk_fe",env:r||((0,i.FH)(location.host).env===i.su.BOE?"boe":"online"),locale:l||u(),unit:(n=l,s=(o={},o[a.yp.cn]=i.fb.CN,o[a.yp.sg]=i.fb.SG,o[a.yp.va]=i.fb.VA,o)[n],s||(0,i.FH)(location.host).unit),userId:c.x,domain:{reportSlardarDomain:null==e?void 0:e.slardar_report,cdnSlardarDomain:null==e?void 0:e.slardar_cdn},reportContext:{release:"6.2.0",name:"policy-sdk",passportId:y,tenantId:b},plugins:{ajax:{autoWrap:!0,ignoreUrls:["/monitor_browser/collect/batch/"],collectBodyOnError:!1},fetch:{autoWrap:!0,ignoreUrls:["/monitor_browser/collect/batch/"],collectBodyOnError:!1},resource:{slowSessionThreshold:1e6}}})})),d().then((function(t){t.client("on","beforeSend",(function(t){var e,n;return t.common&&g&&(e=t.common,n=g,Object.keys(e).forEach((function(t){var r=e[t];"string"==typeof r&&-1!==r.indexOf(n)&&(e[t]=e[t].replace(n,"***"))}))),t}))}));var m=function(){return s(void 0,void 0,void 0,(function(){var t,r;return f(this,(function(i){switch(i.label){case 0:return t=function(t){var n=t.tracker,r=l||u();try{n.init({userId:c.x,channel:r,channelDomain:null==e?void 0:e.tea_report,app_id:h[r]}),n.update({userId:c.x,passport_id:y,tenant_id:b,version:"6.2.0"}),(null===o._||void 0===o._?void 0:o._.report)&&(_=n)}catch(t){}},[4,n.e(611).then(n.bind(n,9044))];case 1:return r=i.sent().tracker,t({tracker:r}),[2]}}))}))};try{(void 0)(m)}catch(t){m()}},_={send:function(t,e){},beaconEvent:function(t,e){}},b=function(t){try{d().then((function(e){e.sendEvent({name:"policy_sdk_report",categories:l(l({},t),{logCreateAt:(new Date).getTime()})})}))}catch(t){}},g=function(t){var e;b(l(l({},t),{errorMsg:null===(e=t.error)||void 0===e?void 0:e.message}))}},2515:function(t,e,n){var r;n.d(e,{I:function(){return o},x:function(){return r}});var o=function(t){r=t}},2872:function(t,e,n){n.d(e,{_:function(){return r}});var r=new(function(){function t(){}return Object.defineProperty(t.prototype,"policyWorker",{get:function(){return this.mPolicyWorker},set:function(t){this.mPolicyWorker=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileProtectChecker",{get:function(){return this.mFileProtectChecker},set:function(t){this.mFileProtectChecker=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"larkGateway",{get:function(){return this.mLarkGateway},set:function(t){this.mLarkGateway=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loginRestriction",{get:function(){return this.mLoginRestriction},set:function(t){this.mLoginRestriction=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dpopProtect",{get:function(){return this.mDpopProtect},set:function(t){this.mDpopProtect=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"report",{get:function(){return this.mReport},set:function(t){this.mReport=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"secSdk",{get:function(){return this.mSecSdk},set:function(t){this.mSecSdk=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"intranet",{get:function(){return this.mIntranet},set:function(t){this.mIntranet=t},enumerable:!1,configurable:!0}),t}())},5713:function(t,e,n){n.d(e,{d:function(){return r}});var r="100000"},9466:function(t,e,n){n.d(e,{V8:function(){return o}});var r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=new(function(){function t(t){this.eventName=t,this.eventHandlers=[],this._window="undefined"!=typeof window?window:void 0,this.hookAdd(),this.hookRemove()}return t.prototype.addHandler=function(t){this.eventHandlers.push(t)},t.prototype.removeHandler=function(t){for(var e=this.eventHandlers.length-1;e>=0;e-=1)if(this.eventHandlers[e]===t)return void this.eventHandlers.splice(e,1)},t.prototype.removeAllHandlers=function(){var t=this._window;if(t)for(var e=this.eventHandlers.length-1;e>=0;e-=1)t.removeEventListener(this.eventName,this.eventHandlers[e])},t.prototype.hookAdd=function(){var t=this,e=this._window;if(e){var n=e.addEventListener;e.addEventListener=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=r(o||[],2),u=a[0],c=a[1];n.apply(e,o),u===t.eventName&&t.addHandler(c)}}},t.prototype.hookRemove=function(){var t=this,e=this._window;if(e){var n=e.removeEventListener;e.removeEventListener=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=r(o||[],2),u=a[0],c=a[1];n.apply(e,o),u===t.eventName&&t.removeHandler(c)}}},t}())("beforeunload")},4056:function(t,e,n){n.d(e,{Z:function(){return _}});var r=n(5978),o=n(3788),i=n(6969),a=n(1854),u=n(2463),c=n(2074),l=n(5958),s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function f(t){var e,n;function r(t){return encodeURIComponent(t).replace(/%20/g,"+")}var o=function t(e,n){void 0===n&&(n="");var r={};return Object.keys(e).forEach((function(o){"object"==typeof e[o]&&null!==e[o]?Object.assign(r,t(e[o],n?"".concat(n,"[").concat(o,"]"):o)):r[n?"".concat(n,"[").concat(o,"]"):o]=e[o]})),r}(t),i=Object.keys(o),a="";try{for(var u=s(i),c=u.next();!c.done;c=u.next()){var l=c.value;a+="".concat(r(l),"=").concat(r(o[l]),"&")}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a.slice(0,-1)}var p,d=n(9466);!function(t){t.Admin="13"}(p||(p={}));var h=function(t){return"undefined"!=typeof window&&!r.Ru||r.Ru&&t===p.Admin},v=function(t){var e=t.securityWebDomain,n=t.urlParams,o=t.lscCode,a=t.lscDecision,s=t.appId,p=t.url,v=function(){l.j4.beaconEvent(i.Bd,{scene:i.TP.COND_ACCESS_WEB,behavior:i.r0.JUMP_TO_NO_ACCCESS_PAGE_WEB,params:JSON.stringify({securityWebDomain:e,urlParams:f(n),lscCode:o,lscDecision:a,appId:s,url:p})}),window.onbeforeunload=null,null===d.V8||void 0===d.V8||d.V8.removeAllHandlers(),window.location.href="https://".concat(e,"/conditionalaccess/deny?").concat(f(n))};if(u.u.has(c.ST.CONDITIONAL_ACCESS))u.u.emit(c.ST.CONDITIONAL_ACCESS,{lscCode:o,lscDecision:a,appId:s,doRedirect:v});else{h(s)&&v();try{r.Ru&&ShellAPI.app.ipc.sendTo(-1,c.ST.CONDITIONAL_ACCESS,{lscCode:o,lscDecision:a,appId:s})}catch(t){}}},y=function(t){var e=t.lscCode,n=t.lscDecision,o=t.appId,a=t.actions,s=t.decision,f=t.url;h(o)&&(l.j4.beaconEvent(i.Bd,{scene:i.TP.FILE_PROTECT_WEB,behavior:i.r0.THROW_POLICY_CENTER_RESOUCE_DENAIL_EVENT,params:JSON.stringify({lscCode:e,lscDecision:n,appId:o,url:f})}),u.u.emit(c.ST.FILE_OPERATION_DENIAL,{decision:s,actions:a,lscCode:e,lscDecision:n,url:f}));try{r.Ru&&ShellAPI.app.ipc.sendTo(-1,c.ST.CONDITIONAL_ACCESS,{lscCode:e,lscDecision:n,appId:o})}catch(t){}},_=(0,a.o)((function(t){var e=function(t){var e;try{var n=JSON.parse(t).actions;if(n&&n.length>0){var r=n.find((function(t){return(null==t?void 0:t.name)===o.Jg.ACCESS_CONTROL_ACTION_COMMON}));if(r)return null===(e=null==r?void 0:r.params)||void 0===e?void 0:e.containerType}}catch(t){return null}return null}(t.lscDecision);e!==o.lS.PAGE?e!==o.lS.DIALOG&&e!==o.lS.TOAST?e?y(t):v(t):y(t):v(t)}),2e3)},5982:function(t,e,n){n.d(e,{De:function(){return u},OP:function(){return l},Uc:function(){return f},aM:function(){return p},j0:function(){return c},rK:function(){return s}});var r,o=n(3788),i=n(2074),a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},u={LOAD_CONFIG_FAIL_DECISION:a(a({},i.BN),{type:i.Up.frontFallback,message:"load config fail",logID:"NoLogID_".concat(i.Up.frontFallback,"_LoadSettingsFail")}),SHARE_READ_SWITCH_OFF_DECISION:a(a({},i.BN),{type:i.Up.settingsFallback,message:"share read off",logID:"NoLogID_".concat(i.Up.settingsFallback,"_ShareReadSwitchOff(disable_file_strategy_share)")}),DISABLE_POLICY_ENGINE_DECISION:a(a({},i.BN),{message:"static pointcuts policy polling off",type:i.Up.frontFastpass,logID:"NoLogID_".concat(i.Up.frontFastpass,"_PolicyEngineSwitchOff(enable_policy_engine)")}),DISABLE_FILE_STRATEGY_DECISION:a(a({},i.BN),{message:"policy check action off",type:i.Up.settingsFallback,logID:"NoLogID_".concat(i.Up.settingsFallback,"_PolicyStrategySwitchOff(disable_file_strategy)")}),DISABLE_FILE_STRATEGY_CLIENT:a(a({},i.BN),{message:"static pointcuts file policy check action off",type:i.Up.settingsFallback,logID:"NoLogID_".concat(i.Up.settingsFallback,"_StaticPointcutPolicyCheckSwitchOff(file_protection_client)")}),DISABLE_MINUTES:a(a({},i.BN),{message:"minutes file policy point off",type:i.Up.settingsFallback,logID:"NoLogID_".concat(i.Up.settingsFallback,"_MinutesFilePolicyCheckSwitchOff(enable_meeting_minutes_file_strategy)")})},c={isFullUpdate:!1},l=((r={})[i.Up.pluginCalculate]=800,r[i.Up.backendCalculate]=700,r[i.Up.frontCalculate]=600,r[i.Up.settingsFallback]=500,r[i.Up.frontFastpass]=400,r[i.Up.cache]=300,r[i.Up.backendFallback]=200,r[i.Up.frontFallback]=100,r[i.Up.unknown]=0,r),s={effect:o.Qm.Deny,actions:[{name:o.Jg.NetworkStrict,params:{policyType:"FILE_PROTECT"}}]},f=4,p=2e3},3198:function(t,e,n){n.d(e,{R:function(){return f},Z:function(){return p}});var r=n(3031),o=n(1720),i=n(5958),a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},u=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},c=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},l=o.sI.retryInterval,s=o.sI.timeout,f={getExtraHeaders:function(){return Promise.resolve({})}};function p(t,e,n){var o=this,p=t.url,d=t.method,h=t.data,v=e||{},y=v.baseURL,_=v.headers,b=v.timeout,g=y?y+p:p,m=new AbortController,w=b?setTimeout((function(){return m.abort()}),b):-1,E=b?{signal:m.signal}:{};return(0,r.X_)((function(){return u(o,void 0,void 0,(function(){var t,e,n,r;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,4,5]),[4,f.getExtraHeaders({url:g,method:d.toUpperCase()})];case 1:return e=o.sent(),[4,fetch(g,a({method:d,body:JSON.stringify(h),credentials:"include",headers:a(a({},_),e)},E))];case 2:return t=o.sent(),[3,5];case 3:return n=o.sent(),(0,i.M2)({error:n.message}),[3,5];case 4:return clearTimeout(w),[7];case 5:return 200!==t.status?[3,7]:[4,t.json()];case 6:return(r=o.sent()).data||function(t){(0,i.M2)(a({error:"request success, but no data available in response",type:"Error",funcName:"uploadErrorOfNoData"},t))}({url:g,response:r,args:h,headers:_}),[2,{success:!0,data:r.data}];case 7:return function(t){var e=t.status,n=t.statusText,r=t.args,o=t.url,a=t.headers;(0,i.M2)({error:"request server error",status:e,statusText:n,url:o,headers:a,type:"Error",funcName:"uploadErrorWithStatusCode",args:r})}({args:h,status:t.status,statusText:t.statusText,url:g,headers:_}),[2,{success:!1}]}}))}))}),{interval:(null==n?void 0:n.retryInterval)||l,timeout:(null==n?void 0:n.timeout)||s}).catch((function(t){return(0,i.M2)({error:null==t?void 0:t.message,args:h,url:g,isOnline:navigator.onLine}),{success:!1,error:t}}))}},9741:function(t,e,n){n.d(e,{Z:function(){return l}});var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function a(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const u=[];for(let t=0;t<256;++t)u.push((t+256).toString(16).slice(1));function c(t,e=0){return(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase()}var l=function(t,e,n){if(r.randomUUID&&!e&&!t)return r.randomUUID();const o=(t=t||{}).random||(t.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=o[t];return e}return c(o)}},5846:function(t,e,n){var r=n(6063).Z.Symbol;e.Z=r},8607:function(t,e,n){n.d(e,{Z:function(){return p}});var r=n(5846),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r.Z?r.Z.toStringTag:void 0;var c=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[u]=n:delete t[u]),o},l=Object.prototype.toString;var s=function(t){return l.call(t)},f=r.Z?r.Z.toStringTag:void 0;var p=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?c(t):s(t)}},9664:function(t,e){var n="object"==typeof global&&global&&global.Object===Object&&global;e.Z=n},6063:function(t,e,n){var r=n(9664),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.Z||o||Function("return this")();e.Z=i},7519:function(t,e){var n=Array.isArray;e.Z=n},532:function(t,e){e.Z=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},1941:function(t,e){e.Z=function(t){return null!=t&&"object"==typeof t}},9782:function(t,e,n){var r=n(8607),o=n(7519),i=n(1941);e.Z=function(t){return"string"==typeof t||!(0,o.Z)(t)&&(0,i.Z)(t)&&"[object String]"==(0,r.Z)(t)}},3901:function(t,e,n){var r=n(8607),o=n(1941);e.Z=function(t){return"symbol"==typeof t||(0,o.Z)(t)&&"[object Symbol]"==(0,r.Z)(t)}},4353:function(t,e,n){n.d(e,{Z:function(){return g}});var r=n(532),o=n(6063),i=function(){return o.Z.Date.now()},a=/\s/;var u=function(t){for(var e=t.length;e--&&a.test(t.charAt(e)););return e},c=/^\s+/;var l=function(t){return t?t.slice(0,u(t)+1).replace(c,""):t},s=n(3901),f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt;var v=function(t){if("number"==typeof t)return t;if((0,s.Z)(t))return NaN;if((0,r.Z)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=(0,r.Z)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=l(t);var n=p.test(t);return n||d.test(t)?h(t.slice(2),n?2:8):f.test(t)?NaN:+t},y=Math.max,_=Math.min;var b=function(t,e,n){var o,a,u,c,l,s,f=0,p=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var n=o,r=a;return o=a=void 0,f=e,c=t.apply(r,n)}function g(t){return f=t,l=setTimeout(w,e),p?b(t):c}function m(t){var n=t-s;return void 0===s||n>=e||n<0||d&&t-f>=u}function w(){var t=i();if(m(t))return E(t);l=setTimeout(w,function(t){var n=e-(t-s);return d?_(n,u-(t-f)):n}(t))}function E(t){return l=void 0,h&&o?b(t):(o=a=void 0,c)}function C(){var t=i(),n=m(t);if(o=arguments,a=this,s=t,n){if(void 0===l)return g(s);if(d)return clearTimeout(l),l=setTimeout(w,e),b(s)}return void 0===l&&(l=setTimeout(w,e)),c}return e=v(e)||0,(0,r.Z)(n)&&(p=!!n.leading,u=(d="maxWait"in n)?y(v(n.maxWait)||0,e):u,h="trailing"in n?!!n.trailing:h),C.cancel=function(){void 0!==l&&clearTimeout(l),f=0,o=s=a=l=void 0},C.flush=function(){return void 0===l?c:E(i())},C};var g=function(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return(0,r.Z)(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),b(t,e,{leading:o,maxWait:e,trailing:i})}}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.m=e,r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,n){return r.f[n](t,e),e}),[]))},r.u=function(t){return({82:"login-restriction",178:"dpop-protect-web",219:"file-policy-workflow",310:"logger",611:"lmp-sdk-report",750:"dpop-protect-mobile-webview",864:"dpop-protect-web-iframe"}[t]||t)+".policy-sdk-6.2.0.js"},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},r.l=function(e,n,o,i){if(t[e])t[e].push(n);else{var a,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var s=c[l];if(s.getAttribute("src")==e||s.getAttribute("data-webpack")=="__builtin_policy_sdk__:"+o){a=s;break}}a||(u=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack","__builtin_policy_sdk__:"+o),a.src=e),t[e]=[n];var f=function(n,r){a.onerror=a.onload=null,clearTimeout(p);var o=t[e];if(delete t[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(t){return t(r)})),n)return n(r)},p=setTimeout(function(t,e){if(e&&"timeout"===e.type){if(window.staticCDNErrorHandler&&window.tryToLoadBackupCdn){var n=Date.now();window.logCDNErrorEntries&&window.logCDNErrorEntries(i,"script",{first_fetch_duration:Date.now()-n}),staticCDNErrorHandler(a.src,"script"),tryToLoadBackupCdn(a.src,"script",!0,f)}}else f(t,e)}.bind(null,void 0,{type:"timeout",target:a}),u?12e4:3e4);if(a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),window.staticCDNErrorHandler&&window.tryToLoadBackupCdn){var d=Date.now();a.onerror=function(){window.logCDNErrorEntries&&window.logCDNErrorEntries(i,"script",{first_fetch_duration:Date.now()-d}),staticCDNErrorHandler(a.src,"script"),tryToLoadBackupCdn(a.src,"script",!0,f)}}u&&document.head.appendChild(a)}},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.p=navigator.cdn_host ? navigator.cdn_host+"/lmp/scs/" : document.currentScript.src.substr(0, document.currentScript.src.lastIndexOf('/') + 1),function(){var t={179:0};r.f.j=function(e,n){var o=r.o(t,e)?t[e]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise((function(n,r){o=t[e]=[n,r]}));n.push(o[2]=i);var a=r.p+r.u(e),u=new Error;r.l(a,(function(n){if(r.o(t,e)&&(0!==(o=t[e])&&(t[e]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",u.name="ChunkLoadError",u.type=i,u.request=a,o[1](u)}}),"chunk-"+e,e)}};var e=function(e,n){var o,i,a=n[0],u=n[1],c=n[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(o in u)r.o(u,o)&&(r.m[o]=u[o]);if(c)c(r)}for(e&&e(n);l<a.length;l++)i=a[l],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=globalThis.webpackChunk_builtin_policy_sdk_=globalThis.webpackChunk_builtin_policy_sdk_||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var o={};!function(){r.r(o),r.d(o,{ActionNameKey:function(){return et.Jg},DeterministicDecisionTypeEnum:function(){return i.Up},Effect:function(){return et.Qm},EntityDomain:function(){return ht.pW},EntityOperate:function(){return et.OW},EntityType:function(){return et.py},Environment:function(){return i.qA},FileSourceDomain:function(){return et.Su},NumSuiteType:function(){return tt},PointKey:function(){return dt.MA},PolicyEvent:function(){return i.ST},PolicyPlugin:function(){return yt.W},PolicyType:function(){return i.Mi},Region:function(){return i.yp},default:function(){return St},init:function(){return It},update:function(){return Pt}});var t=r(8617),e=r(3742),n=r(2463),i=r(2074),a=r(4672),u=r(5958),c=r(3545),l=r(2872);var s,f,p,d,h,v=function(){},y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},_=function(t){return new Promise((function(e,n){"undefined"==typeof document&&n(new Error("non-browser env"));var r=t.domain,o=t.path,i=t.backupDomains,a=t.retried;try{var u="https://".concat(r).concat(o),c=document.createElement("script");c.onload=function(){return e(!0)},c.onerror=function(){var t={domain:r,path:o};if(a)n(new Error("Resource load failed: ".concat(u)));else{if(Array.isArray(i)&&i.length>0){var c=y(i),l=c[0],s=c.slice(1);t.domain=l,t.backupDomains=s}else a||(t.retried=!0);_(t).then((function(){return e(!0)})).catch((function(t){return n(t)}))}},c.setAttribute("type","text/javascript"),c.setAttribute("src",u),document.head.appendChild(c)}catch(t){n(t)}}))},b=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},g=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},m=function(){return b(void 0,void 0,Promise,(function(){var t,n,r;return g(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.u.getConfig()];case 1:return t=o.sent(),n=null==t?void 0:t.secSdkWeb,r="https://".concat(null==t?void 0:t.securityApiDomain,"/device/sdk/v5/r"),n&&(i=n.url,new Promise((function(t){if("undefined"!=typeof document)try{var e="https://".concat(i),n=document.createElement("script");n.onload=function(){return t(!0)},n.setAttribute("type","text/javascript"),n.setAttribute("src",e),document.head.appendChild(n)}catch(t){}}))).then((function(){window.__lark_sec_sdk.setEnv(r,n.token)})),[3,3];case 2:return o.sent(),[3,3];case 3:return[2]}var i}))}))},w=function(){return(w=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},E=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},C=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},O=r(5978),S=r(4622),I=r(2442),P=function(){return(P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},T=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},A=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},k=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},R=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},D=Math.random().toString().slice(2),N=function(){},L=(null===(f=null===(s=e.u.getConfigSync())||void 0===s?void 0:s.featureSwitch)||void 0===f?void 0:f.terminal_new)?O.rD:O.n5;if("undefined"!=typeof window&&L!==O.OE.Web){var M,x=function(){var t,e,n,r,o,i,a;try{var u=null!==(e=null===(t=window.LarkWebViewJavaScriptBridge)||void 0===t?void 0:t.nativeCallBack)&&void 0!==e?e:N,c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{if([O.OE.Android,O.OE.iOS].includes(L)){var n=(null==t?void 0:t[0])||{},r=n.callbackID,o=n.data,i=n.callbackType;r===D&&"success"===i&&(h=o),u.apply(void 0,R([],k(t),!1))}if([O.OE.PC].includes(L)){var a=k(t||[],1);o=a[0];h=o}}catch(t){}},l={apiName:"larkPrivateGatewayParams",data:{},callbackID:D};window.LarkWebViewJavaScriptBridge&&(window.LarkWebViewJavaScriptBridge.nativeCallBack=c),L===O.OE.Android&&(null===(n=window.Lark_Bridge)||void 0===n||n.invokeNative(JSON.stringify(l))),L===O.OE.iOS&&(null===(i=null===(o=null===(r=window.webkit)||void 0===r?void 0:r.messageHandlers)||void 0===o?void 0:o.invokeNative)||void 0===i||i.postMessage(P(P({},l),{data:{__v2__:!0}}))),L===O.OE.PC&&(null===(a=window.ttJSBridge)||void 0===a||a.invoke(l.apiName,P(P({},l.data),{success:c})))}catch(t){}};if(!Object.prototype.hasOwnProperty.call(window,"LarkWebViewJavaScriptBridge")&&(null===(p=Object.getOwnPropertyDescriptor(window,"LarkWebViewJavaScriptBridge"))||void 0===p?void 0:p.configurable)&&[O.OE.Android,O.OE.iOS].includes(L))Object.defineProperties(window,{LarkWebViewJavaScriptBridge:{get:function(){return M},set:function(t){var e;M=t,(null==t?void 0:t.nativeCallBack)&&(e=t.nativeCallBack),Object.defineProperties(t,{nativeCallBack:{get:function(){return e},set:function(t){e=t,x()},configurable:!0}})}}});else if(!Object.prototype.hasOwnProperty.call(window,"ttJSBridge")&&(null===(d=Object.getOwnPropertyDescriptor(window,"ttJSBridge"))||void 0===d?void 0:d.configurable)&&[O.OE.PC].includes(L)){var U;Object.defineProperties(window,{ttJSBridge:{get:function(){return U},set:function(t){U=t,x()}}})}else(window.LarkWebViewJavaScriptBridge||window.ttJSBridge)&&x()}var F=function(){return T(void 0,void 0,void 0,(function(){var t,e,n;return A(this,(function(r){switch(r.label){case 0:if(L===O.OE.Web)return[2,{}];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,ShellAPI.app.passport.getAuthInfo()];case 2:return t=r.sent().userId,[3,4];case 3:return r.sent(),[3,4];case 4:try{e=ShellAPI.app.environment.appVersion}catch(t){}return[2,P(P({},h),(n={},n[I.DH]=t||(null==h?void 0:h[I.DH]),n[I.qA]=e||(null==h?void 0:h[I.qA]),n))]}}))}))},B=r(4118),j="undefined"!=typeof window?window.fetch:function(){return Promise.resolve(new Response)},H=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},G=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};function W(){try{return(0,B.ej)(I.cy)||""}catch(t){return""}}function V(t){var n;return H(this,void 0,Promise,(function(){var r,o;return G(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),r=void 0,t.tokenApiUrl?(r=t.tokenApiUrl,[3,3]):[3,1];case 1:return[4,e.u.getConfig()];case 2:if(!(o=null===(n=i.sent())||void 0===n?void 0:n.csrfApiDomain))return[2,""];r="https://".concat(o,"/lgw/csrf_token"),i.label=3;case 3:return r?[4,j(r,{credentials:"include"})]:[2,""];case 4:return i.sent(),[2,(0,B.ej)(I.cy)];case 5:return i.sent(),[2,""];case 6:return[2]}}))}))}var q,K=(q=function(t,e){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}q(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},J=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},Z=function(t){function n(n){var r=t.call(this)||this;return r.csrfConfig={},r.request=function(t){return Y(r,void 0,Promise,(function(){var n,r,o;return J(this,(function(i){switch(i.label){case 0:return[4,this.doNotIntercept(t.url.toString())];case 1:return i.sent()?[2,!0]:(n=null===(o=null===(r=e.u.getConfigSync())||void 0===r?void 0:r.featureSwitch)||void 0===o?void 0:o.terminal_new,t.setHeader(I._E,encodeURIComponent(n?O.rD:O.n5)),t.setHeader(I.eM,encodeURIComponent(O.oU)),e.u.options.appId&&t.setHeader(I.UA,encodeURIComponent(e.u.options.appId)),[4,this.setDynamicParams(t)]);case 2:return i.sent(),[2,!0]}}))}))},"undefined"!=typeof window&&(window.lgw_sdk_hooked=!0),r.csrfConfig=(null==n?void 0:n.csrf)||{},r.params=(null==n?void 0:n.params)||{},r}return K(n,t),n.prototype.setDynamicParams=function(t){return Y(this,void 0,void 0,(function(){var e,n,r,o,i;return J(this,(function(a){switch(a.label){case 0:return[4,F()];case 1:return e=a.sent(),[I.qA,I.Rg,I.o7,I.h7,I.md,I.DH,I.xH].forEach((function(n){(null==e?void 0:e[n])&&t.setHeader(n,encodeURIComponent(e[n]))})),n=new URL(t.url,window.location.origin).searchParams.toString().slice(1),"undefined"!=typeof window&&window.__lark_sec_sdk?(r={query:n,body:t.body},[4,window.__lark_sec_sdk.signRequest(r)]):[3,3];case 2:(o=a.sent())&&t.setHeader(I.T9,o),a.label=3;case 3:return this.csrfConfig.enable?(this.getCsrfTokenPromise||(this.getCsrfTokenPromise=function(t){return H(this,void 0,Promise,(function(){var e;return G(this,(function(n){switch(n.label){case 0:return(e=W())?[3,2]:[4,V(t)];case 1:e=n.sent(),n.label=2;case 2:return[2,e]}}))}))}(this.csrfConfig)),[4,this.getCsrfTokenPromise]):[3,5];case 4:i=a.sent(),this.getCsrfTokenPromise=void 0,t.setHeader(I.sh,i),a.label=5;case 5:return[2]}}))}))},n.prototype.doNotIntercept=function(t){var n;return Y(this,void 0,Promise,(function(){return J(this,(function(r){switch(r.label){case 0:return O.oU===O.wh.iOS&&O.Ru&&O.j_&&!/^(https:)?\/\//.test(t)&&!(null===(n=this.params)||void 0===n?void 0:n.disableIosDocSource)?[2,!0]:[4,e.u.getConfig()];case 1:return r.sent()?[2,!1]:[2,!0]}}))}))},n.key="LarkGatewayInterceptor",n}(S.n),Q=r(3198),X={request:Q.Z,baseURL:""};X.genBaseURL=function(t){return"function"==typeof X.baseURL?X.baseURL(t):X.baseURL+t};var z,$=r(4821);!function(t){t[t.Inactive=1]="Inactive",t[t.Active=2]="Active"}(z||(z={}));var tt,et=r(3788),nt=r(1854),rt=r(5713),ot=r(4056),it=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},ut=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},ct=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},lt=function(t){function n(){var n,r=this;return(r=t.call(this)||this).pollingTokenFailures=0,r.addrCalled=!1,r.request=function(){return ut(r,void 0,Promise,(function(){return ct(this,(function(t){switch(t.label){case 0:return[4,this.getTerminalJwt()];case 1:return t.sent()||(0,B.kT)({key:"sec_terminal_token",domain:e.u.options.baseDomain}),[2,!0]}}))}))},r.response=function(t,n){return ut(r,void 0,void 0,(function(){var r,o,i,a,u,c,l,s,f,p,d,h,v,y;return ct(this,(function(_){switch(_.label){case 0:return(r=t.getHeader(I.pX))&&this.prevIp&&r!==this.prevIp&&!document.hidden&&(this.refreshToken(),this.prevIp=r),!this.prevIp&&r&&(this.prevIp=r),o=t.getHeader(rt.d),i=t.getHeader(I.sb),a=n.url.toString(),u=(0,I.JT)(i).actions,c=null===(v=u[0])||void 0===v?void 0:v.name,[et.Jg.Intranet].includes(c)?[4,e.u.getConfig()]:[3,2];case 1:return l=_.sent(),s=null==l?void 0:l.securityWebDomain,f=e.u.options,p=f.language,d=f.passportId,h={appid:d,language:p,redirectUrl:(null===(y=null===window||void 0===window?void 0:window.location)||void 0===y?void 0:y.href)||"",actions:u},(0,ot.Z)({securityWebDomain:s,urlParams:h,lscCode:o,lscDecision:i,actions:u,appId:d,url:a}),[2,!1];case 2:return[2,!0]}}))}))},setInterval((function(){r.getCrossTabTimeIntervalAllowed()&&r.refreshToken()}),3e5),null===(n=window.addEventListener)||void 0===n||n.call(window,"online",(function(){return r.refreshToken()})),r}return it(n,t),n.prototype.refreshToken=function(){return ut(this,void 0,void 0,(function(){return ct(this,(function(t){switch(t.label){case 0:return[4,this.pollTerminalJwt()];case 1:return t.sent()||((0,B.kT)({key:"sec_terminal_token",domain:e.u.options.baseDomain}),this.pollingTokenFailures=this.pollingTokenFailures+1),this.pollingTokenFailures%3==0&&this.pollingTokenFailures>0?[4,this.getProxyAddr(!1)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.getCrossTabTimeIntervalAllowed=function(){if("undefined"!=typeof localStorage){var t=Number(null===localStorage||void 0===localStorage?void 0:localStorage.getItem("__TERMINAL_TOKEN_TIME_STORAGE")),e=(new Date).valueOf();if(isNaN(t)||e-t>3e5||e<t)return null===localStorage||void 0===localStorage||localStorage.setItem("__TERMINAL_TOKEN_TIME_STORAGE","".concat(e-1e3)),!0}return!1},n.prototype.getProxyAddr=function(t){return void 0===t&&(t=!0),ut(this,void 0,void 0,(function(){var e,n;return ct(this,(function(r){switch(r.label){case 0:if(t){if(this.proxyAddr)return[2,this.proxyAddr];if(e=null===localStorage||void 0===localStorage?void 0:localStorage.getItem("__REVERSE_PROXY_SERVER_ADDR"))return[2,e];if(this.addrCalled)return[2,""]}return[4,this.fetchProxyAddr()];case 1:return n=r.sent(),this.addrCalled=!0,[2,n]}}))}))},n.prototype.fetchProxyAddr=function(){return ut(this,void 0,Promise,(function(){var t,e;return ct(this,(function(n){switch(n.label){case 0:return[4,(0,$.R$)()];case 1:return t=n.sent().data,e=t.address,t.status!==z.Active?[2,""]:(this.proxyAddr=e,null===localStorage||void 0===localStorage||localStorage.setItem("__REVERSE_PROXY_SERVER_ADDR",e),[2,e])}}))}))},n.prototype.pollTerminalJwt=function(){return ut(this,void 0,Promise,(function(){var t;return ct(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,this.getProxyAddr()];case 1:return t=e.sent(),[4,this.fetchTerminalJwt(t)];case 2:return[2,e.sent()];case 3:return e.sent(),[2,""];case 4:return[2]}}))}))},n.prototype.getTerminalJwt=function(){return ut(this,void 0,Promise,(function(){var t=this;return ct(this,(function(e){if(this.tokenPromise)return[2,this.tokenPromise];try{return this.tokenPromise=this.pollTerminalJwt().catch((function(){return t.tokenPromise=null})),[2,this.tokenPromise]}catch(t){return this.tokenPromise=null,[2,""]}return[2]}))}))},n.prototype.fetchTerminalJwt=function(t){var n;return ut(this,void 0,Promise,(function(){var r;return ct(this,(function(o){switch(o.label){case 0:return t?[4,(i={baseURL:"https://".concat(t),timeout:2e3},a=X.genBaseURL("/lark/security/internal/terminal/intranet/token"),X.request({url:a,method:"GET"},i))]:[2,""];case 1:return r=o.sent(),(null===(n=r.data)||void 0===n?void 0:n.token)?((0,B.d8)({key:"sec_terminal_token",value:r.data.token,domain:e.u.options.baseDomain,expires:new Date(Date.now()+36e4).toUTCString()}),[2,r.data.token]):[2,""]}var i,a}))}))},n.key="IntranetDetectionInterceptor",at([(0,nt.w)(1e4)],n.prototype,"refreshToken",null),n}(S.n),st=r(5982),ft=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},pt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},dt=r(6969),ht=r(3583);!function(t){t[t.DOC=2]="DOC",t[t.SHEET=3]="SHEET",t[t.BITABLE=8]="BITABLE",t[t.RECORD=81]="RECORD",t[t.BASE_ADD=84]="BASE_ADD",t[t.MINDNOTE=11]="MINDNOTE",t[t.FILE=12]="FILE",t[t.WIKI=16]="WIKI",t[t.ISV=20]="ISV",t[t.DOCX=22]="DOCX",t[t.MINUTES=28]="MINUTES",t[t.SLIDES=30]="SLIDES",t[t.DASHBOARD=36]="DASHBOARD",t[t.WHITEBOARD=38]="WHITEBOARD",t[t.SYNCED=44]="SYNCED",t[t.BITABLE_TABLE=83]="BITABLE_TABLE",t[t.CHART=110]="CHART",t[t.CATALOG=111]="CATALOG"}(tt||(tt={}));var vt,yt=r(2106),_t=function(){return(_t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},bt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},gt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},mt={getPluginInstByName:function(e){return t.E.getPluginByName(e)},registerPlugin:function(e,n){return t.E.registerPlugin(e,n)}},wt={checkActionRemote:function(t){return bt(this,void 0,Promise,(function(){return gt(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicy()];case 1:return e.sent(),[2,(new l._.fileProtectChecker).checkActionRemote(t)]}}))}))},checkAction:function(t){return bt(this,void 0,Promise,(function(){return gt(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicy()];case 1:return e.sent(),[2,(new l._.fileProtectChecker).checkAction(t)]}}))}))},checkActionSync:function(t){return Ot.initFilePolicy(),(new l._.fileProtectChecker).checkActionSync(t)},preloadDecisions:function(t){return bt(this,void 0,Promise,(function(){return gt(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicy()];case 1:return e.sent(),[2,(new l._.fileProtectChecker).preloadDecisions(t)]}}))}))},isFastPass:function(t){return(new l._.fileProtectChecker).isFastPass(t)},registerActions:function(t){return bt(this,void 0,void 0,(function(){return gt(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicy()];case 1:return e.sent(),l._.fileProtectChecker.registerActions(t),[2]}}))}))},loadEntity:function(t){return bt(this,void 0,void 0,(function(){return gt(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicy()];case 1:return e.sent(),[2,(new l._.fileProtectChecker).loadEntity(t)]}}))}))},unloadEntities:function(t){return bt(this,void 0,void 0,(function(){return gt(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicy()];case 1:return e.sent(),[2,(new l._.fileProtectChecker).unloadEntities(t)]}}))}))},unloadAllEntities:function(){return bt(this,void 0,void 0,(function(){return gt(this,(function(t){switch(t.label){case 0:return[4,Ot.initFilePolicy()];case 1:return t.sent(),[2,(new l._.fileProtectChecker).unloadAllEntities()]}}))}))}},Et={getConfig:function(){return bt(void 0,void 0,void 0,(function(){return gt(this,(function(t){switch(t.label){case 0:return[4,e.u.getConfig()];case 1:return[2,t.sent()]}}))}))}},Ct={onConditionalAccessDenial:function(t){return n.u.on(i.ST.CONDITIONAL_ACCESS,t)},onFilePolicyDenial:function(t){return n.u.on(i.ST.FILE_OPERATION_DENIAL,t)},onPolicyUpdate:function(t){return n.u.on(i.ST.POLICY_UPDATE,t)},onPointcutUpdate:function(t){return n.u.on(i.ST.POINTCUT_UPDATE,t)},onWorkflowLog:function(t){return n.u.on(i.ST.WORKFLOW_LOG,t)},onPreloadDecisionChange:function(t){return n.u.on(i.ST.PRELOAD_DECISION_UPDATE,(function(e){return t(_t(_t({},e),{getTaskIdByInput:function(t){return(0,c.EE)(t)}}))}))},onDecisionChange:function(t){return n.u.on(i.ST.DECISION_UPDATE,(function(e){return t(_t(_t({},e),{getTaskIdByInput:function(t){return(0,c.EE)(t)}}))}))}},Ot=_t(_t({init:function(t){var n=e.u.initOptions(t);return n&&((0,a.pF)(),e.u.queryInfos(),this.initReporter()),e.u.setupTimers(),this.initModules(t.modules),n},setExtraHeaderCb:function(t){Q.R.getExtraHeaders=t},initModules:function(t){var n=t||{},o=n.larkGateway,i=n.filePolicy,u=n.loginRestriction,c=n.secSdk,s=n.bdmsSdk,f=n.dpopProtect,p=n.intranet,d=n.logger;f&&this.initDPoPProtect(f),o&&this.initLarkGateway(),i&&this.initFilePolicy(),p&&this.initIntranet(),u&&(l._.loginRestriction||(l._.loginRestriction=!0,(0,a.BD)())),s&&(l._.secSdk||(l._.secSdk=!0,E(void 0,void 0,Promise,(function(){var t,n,r,o,i,a,u,c,l,s,f;return C(this,(function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,e.u.getConfig()];case 1:return t=p.sent(),n=null==t?void 0:t.secSdkWeb,r=null==t?void 0:t.bdmsSdkApiDomain,o=null!==(f=null==n?void 0:n.bdmsConf)&&void 0!==f?f:{},i=o.aid,a=o.domain,u=o.path,c=o.backupDomains,l=o.enable,s=o.options,u&&l?_({domain:a,path:u,backupDomains:c}).then((function(){var t=w(w({},s),{aid:null!=i?i:1664,rpU:r?"https://".concat(r):void 0});(window.bdms||window.byted_acrawler).init(t)})).catch(v):m(),[3,3];case 2:return p.sent(),v(),[3,3];case 3:return[2]}}))})))),c&&(l._.secSdk||(l._.secSdk=!0,m())),d&&!l._.logger&&e.u.options.userId&&(l._.logger=!0,function(t,e){ft(void 0,void 0,void 0,(function(){var n,o,i,a,u,c,l,s,f,p,d,h,v,y,_,b;return pt(this,(function(g){switch(g.label){case 0:return n=e.getConfigSync(),(null===(y=null==n?void 0:n.featureSwitch)||void 0===y?void 0:y.enable_logifier)?(o=t.exporter,i=t.packer,[4,Promise.all([r.e(886),r.e(310)]).then(r.bind(r,6726))]):[2];case 1:return a=g.sent(),u=a.TracerProvider,c=a.BatchSpanProcessor,[4,Promise.all([r.e(886),r.e(310)]).then(r.bind(r,9143))];case 2:return l=g.sent().Logifier,s=e.options.userId,f=(null===(_=null==n?void 0:n.featureParams)||void 0===_?void 0:_.max_record_count)||1e3,p=(null===(b=null==n?void 0:n.featureParams)||void 0===b?void 0:b.schedule_duration_ms)||1e4,d=new u,h=new c(new o({dbName:"policy-sdk-log",storeName:s,config:{separateStoreByDate:!0,maxStoreCount:7,maxRecordCount:f}}),{scheduleDurationMs:p}),d.addSpanProcessor(h),d.register(),i?(v=new i({dbName:"policy-sdk-log",storeName:s}),new l({logifierUrlBase:"https://".concat(e.options.settingDomain),logPacker:v,filenamePattern:"lark_security",appId:"feishu"===e.options.brand?"592346":"592347",deviceId:s}).startPoll("lark_security_".concat(s),"9BB6JY32EHQA8MM98R8D"),[2]):[2]}}))}))}(d,e.u))},initReporter:function(){var t;return bt(this,void 0,void 0,(function(){var n;return gt(this,(function(r){switch(r.label){case 0:return[4,e.u.getConfig()];case 1:return n=r.sent(),l._.report=!0,(null===(t=null==n?void 0:n.featureSwitch)||void 0===t?void 0:t.policy_sdk_disable_report)&&(l._.report=!1),(0,u.Ty)(e.u.options,null==n?void 0:n.domains),[2]}}))}))},initFilePolicy:function(){var t;return bt(this,void 0,void 0,(function(){var e,o,u;return gt(this,(function(c){switch(c.label){case 0:return l._.fileProtectChecker?[2]:l._.policyWorker?(l._.fileProtectChecker=l._.policyWorker,[2]):[4,Promise.all([r.e(126),r.e(886),r.e(219)]).then(r.bind(r,9837))];case 1:return e=c.sent().FileProtectChecker,[4,Promise.all([r.e(126),r.e(886),r.e(219)]).then(r.bind(r,5644))];case 2:return o=c.sent().FilePolicyInterceptor,l._.fileProtectChecker=e,e.init(),n.u.on(i.GE.NETWORK_ONLINE,(function(){(new e).autoCheckActions(i.GE.NETWORK_ONLINE)})),n.u.on(i.GE.SDK_COLD_BOOST,(function(){st.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.SDK_COLD_BOOST)})),n.u.on(i.GE.STATIC_POINTCUT_POLLING,(function(){st.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.STATIC_POINTCUT_POLLING)})),n.u.on(i.GE.BACK_TO_FRONT,(function(){st.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.BACK_TO_FRONT)})),n.u.on(i.GE.TENANT_SWITCH,(function(){st.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.TENANT_SWITCH)})),function(t){var e;try{ShellAPI.app.ipc.on(i.GE.DEVICE_AUTH_STATUS_CHANGE,t)}catch(t){}null===(e=window.addEventListener)||void 0===e||e.call(window,"message",(function(e){"SCS_SECURITY_CLOSE_DIALOG"===e.data&&t()}),!1)}((function(){st.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.DEVICE_AUTH_STATUS_CHANGE)})),u=new o,null===(t=(0,a.UE)())||void 0===t||t.appendInterceptors([],[u]),[2]}}))}))},initLarkGateway:function(t){var e;if(!l._.larkGateway){l._.larkGateway=!0;var n=new Z(t);null===(e=(0,a.UE)())||void 0===e||e.appendInterceptors([n])}},initIntranet:function(){var t;if(!l._.intranet){l._.intranet=!0;var e=new lt;null===(t=(0,a.UE)())||void 0===t||t.appendInterceptors([e],[e])}},initDPoPProtect:function(t){var e,n,o;return bt(this,void 0,void 0,(function(){var i,u,c,s;return gt(this,(function(f){switch(f.label){case 0:return l._.dpopProtect?[2]:"web-same-origin"!==t.enableEnv?[3,2]:[4,Promise.all([r.e(126),r.e(95),r.e(178)]).then(r.bind(r,7629))];case 1:return i=f.sent().DPoPInterceptorWeb,l._.dpopProtect=!0,s=new i,null===(e=(0,a.UE)())||void 0===e||e.appendInterceptors([s],[s]),[3,6];case 2:return"web-cross-origin"!==t.enableEnv?[3,4]:[4,r.e(864).then(r.bind(r,6657))];case 3:return u=f.sent().DPoPInterceptorWebIframe,l._.dpopProtect=!0,s=new u,null===(n=(0,a.UE)())||void 0===n||n.appendInterceptors([s],[s]),[3,6];case 4:return"mobileWebview"!==t.enableEnv?[3,6]:[4,Promise.all([r.e(126),r.e(95),r.e(750)]).then(r.bind(r,7366))];case 5:c=f.sent().DPoPInterceptorMobileWebview,l._.dpopProtect=!0,s=new c,null===(o=(0,a.UE)())||void 0===o||o.appendInterceptors([s],[s]),f.label=6;case 6:return[2]}}))}))},update:function(n){var r=n.options,o=void 0===r?{}:r;e.u.setOptions(o),t.E.updateProps(n)}},mt),{pluginManager:mt,fileProtectChecker:wt,events:Ct,pap:Et}),St=(null===(vt=window.__builtin_policy_sdk__)||void 0===vt?void 0:vt.default)||Ot,It=Ot.init,Pt=Ot.update}(),__builtin_policy_sdk__=o}();